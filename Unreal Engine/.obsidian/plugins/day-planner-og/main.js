/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ol=Object.create;var $r=Object.defineProperty;var Fl=Object.getOwnPropertyDescriptor;var Yl=Object.getOwnPropertyNames;var Wl=Object.getPrototypeOf,Hl=Object.prototype.hasOwnProperty;var zi=e=>{throw TypeError(e)};var Gl=(e,t,r)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jl=(e,t)=>{for(var r in t)$r(e,r,{get:t[r],enumerable:!0})},Zi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yl(t))!Hl.call(e,o)&&o!==r&&$r(e,o,{get:()=>t[o],enumerable:!(n=Fl(t,o))||n.enumerable});return e};var qi=(e,t,r)=>(r=e!=null?Ol(Wl(e)):{},Zi(t||!e||!e.__esModule?$r(r,"default",{value:e,enumerable:!0}):r,e)),zl=e=>Zi($r({},"__esModule",{value:!0}),e);var Ce=(e,t,r)=>Gl(e,typeof t!="symbol"?t+"":t,r),Ui=(e,t,r)=>t.has(e)||zi("Cannot "+r);var ae=(e,t,r)=>(Ui(e,t,"read from private field"),r?r.call(e):t.get(e)),An=(e,t,r)=>t.has(e)?zi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),wn=(e,t,r,n)=>(Ui(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var To=Vl(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});var j=require("obsidian"),Ao="YYYY-MM-DD",wo="gggg-[W]ww",es="YYYY-MM",ts="YYYY-[Q]Q",rs="YYYY";function Lr(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function Mr(){try{let{internalPlugins:e,plugins:t}=window.app;if(Lr("daily")){let{format:i,folder:s,template:a}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||Ao,folder:s?.trim()||"",template:a?.trim()||""}}let{folder:r,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||Ao,folder:r?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function Br(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,r=e.getPlugin("periodic-notes")?.settings?.weekly;if(Lr("weekly"))return{format:r.format||wo,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||wo,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function Or(){let e=window.app.plugins;try{let t=Lr("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||es,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function Fr(){let e=window.app.plugins;try{let t=Lr("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||ts,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function Yr(){let e=window.app.plugins;try{let t=Lr("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||rs,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function ns(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,o=t.length;n<o;n++){let i=t[n];!i||i==="."||r.push(i)}return t[0]===""&&r.unshift(""),r.join("/")}function Zl(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function ql(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let r=ns(...t);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function Wr(e,t){t.endsWith(".md")||(t+=".md");let r=j.normalizePath(ns(e,t));return await ql(r),r}async function Jt(e){let{metadataCache:t,vault:r}=window.app,n=j.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),i=await r.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new j.Notice("Failed to read the daily note template"),["",null]}}function Ye(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}function os(e){return e.replace(/\[[^\]]*\]/g,"")}function Ul(e,t){if(t==="week"){let r=os(e);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function er(e,t){return is(e.basename,t)}function Ql(e,t){return is(Zl(e),t)}function is(e,t){let n={day:Mr,week:Br,month:Or,quarter:Fr,year:Yr}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if(Ul(n,t)&&t==="week"){let i=os(n);if(/w{1,2}/i.test(i))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var yo=class extends Error{};async function ss(e){let t=window.app,{vault:r}=t,n=window.moment,{template:o,format:i,folder:s}=Mr(),[a,l]=await Jt(o),c=e.format(i),f=await Wr(s,c);try{let p=await r.create(f,a.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(u,m,h,A,g,v)=>{let $=n(),S=e.clone().set({hour:$.get("hour"),minute:$.get("minute"),second:$.get("second")});return h&&S.add(parseInt(A,10),g),v?S.format(v.substring(1).trim()):S.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(p,l),p}catch(p){console.error(`Failed to create file: '${f}'`,p),new j.Notice("Unable to create new file.")}}function Xl(e,t){return t[Ye(e,"day")]??null}function Kl(){let{vault:e}=window.app,{folder:t}=Mr(),r=e.getAbstractFileByPath(j.normalizePath(t));if(!r)throw new yo("Failed to find daily notes folder");let n={};return j.Vault.recurseChildren(r,o=>{if(o instanceof j.TFile){let i=er(o,"day");if(i){let s=Ye(i,"day");n[s]=o}}}),n}var xo=class extends Error{};function Jl(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)r.push(r.shift()),t--;return r}function ec(e){return Jl().indexOf(e.toLowerCase())}async function as(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Br(),[i,s]=await Jt(r),a=e.format(n),l=await Wr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,p,u,m,h,A)=>{let g=window.moment(),v=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return u&&v.add(parseInt(m,10),h),A?v.format(A.substring(1).trim()):v.format(n)}).replace(/{{\s*title\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(f,p,u)=>{let m=ec(p);return e.weekday(m).format(u.trim())}));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new j.Notice("Unable to create new file.")}}function tc(e,t){return t[Ye(e,"week")]??null}function rc(){let e={};if(!cs())return e;let{vault:t}=window.app,{folder:r}=Br(),n=t.getAbstractFileByPath(j.normalizePath(r));if(!n)throw new xo("Failed to find weekly notes folder");return j.Vault.recurseChildren(n,o=>{if(o instanceof j.TFile){let i=er(o,"week");if(i){let s=Ye(i,"week");e[s]=o}}}),e}var Eo=class extends Error{};async function ls(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Or(),[i,s]=await Jt(r),a=e.format(n),l=await Wr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,p,u,m,h,A)=>{let g=window.moment(),v=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return u&&v.add(parseInt(m,10),h),A?v.format(A.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new j.Notice("Unable to create new file.")}}function nc(e,t){return t[Ye(e,"month")]??null}function oc(){let e={};if(!fs())return e;let{vault:t}=window.app,{folder:r}=Or(),n=t.getAbstractFileByPath(j.normalizePath(r));if(!n)throw new Eo("Failed to find monthly notes folder");return j.Vault.recurseChildren(n,o=>{if(o instanceof j.TFile){let i=er(o,"month");if(i){let s=Ye(i,"month");e[s]=o}}}),e}var Co=class extends Error{};async function ic(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Fr(),[i,s]=await Jt(r),a=e.format(n),l=await Wr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,p,u,m,h,A)=>{let g=window.moment(),v=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return u&&v.add(parseInt(m,10),h),A?v.format(A.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new j.Notice("Unable to create new file.")}}function sc(e,t){return t[Ye(e,"quarter")]??null}function ac(){let e={};if(!us())return e;let{vault:t}=window.app,{folder:r}=Fr(),n=t.getAbstractFileByPath(j.normalizePath(r));if(!n)throw new Co("Failed to find quarterly notes folder");return j.Vault.recurseChildren(n,o=>{if(o instanceof j.TFile){let i=er(o,"quarter");if(i){let s=Ye(i,"quarter");e[s]=o}}}),e}var ko=class extends Error{};async function lc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Yr(),[i,s]=await Jt(r),a=e.format(n),l=await Wr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,p,u,m,h,A)=>{let g=window.moment(),v=e.clone().set({hour:g.get("hour"),minute:g.get("minute"),second:g.get("second")});return u&&v.add(parseInt(m,10),h),A?v.format(A.substring(1).trim()):v.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new j.Notice("Unable to create new file.")}}function cc(e,t){return t[Ye(e,"year")]??null}function fc(){let e={};if(!ps())return e;let{vault:t}=window.app,{folder:r}=Yr(),n=t.getAbstractFileByPath(j.normalizePath(r));if(!n)throw new ko("Failed to find yearly notes folder");return j.Vault.recurseChildren(n,o=>{if(o instanceof j.TFile){let i=er(o,"year");if(i){let s=Ye(i,"year");e[s]=o}}}),e}function uc(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let r=e.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function cs(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function fs(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function us(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function ps(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function pc(e){let t={day:Mr,week:Br,month:Or,quarter:Fr,year:Yr}[e];return t()}function dc(e,t){return{day:ss,month:ls,week:as}[e](t)}F.DEFAULT_DAILY_NOTE_FORMAT=Ao;F.DEFAULT_MONTHLY_NOTE_FORMAT=es;F.DEFAULT_QUARTERLY_NOTE_FORMAT=ts;F.DEFAULT_WEEKLY_NOTE_FORMAT=wo;F.DEFAULT_YEARLY_NOTE_FORMAT=rs;F.appHasDailyNotesPluginLoaded=uc;F.appHasMonthlyNotesPluginLoaded=fs;F.appHasQuarterlyNotesPluginLoaded=us;F.appHasWeeklyNotesPluginLoaded=cs;F.appHasYearlyNotesPluginLoaded=ps;F.createDailyNote=ss;F.createMonthlyNote=ls;F.createPeriodicNote=dc;F.createQuarterlyNote=ic;F.createWeeklyNote=as;F.createYearlyNote=lc;F.getAllDailyNotes=Kl;F.getAllMonthlyNotes=oc;F.getAllQuarterlyNotes=ac;F.getAllWeeklyNotes=rc;F.getAllYearlyNotes=fc;F.getDailyNote=Xl;F.getDailyNoteSettings=Mr;F.getDateFromFile=er;F.getDateFromPath=Ql;F.getDateUID=Ye;F.getMonthlyNote=nc;F.getMonthlyNoteSettings=Or;F.getPeriodicNoteSettings=pc;F.getQuarterlyNote=sc;F.getQuarterlyNoteSettings=Fr;F.getTemplateInfo=Jt;F.getWeeklyNote=tc;F.getWeeklyNoteSettings=Br;F.getYearlyNote=cc;F.getYearlyNoteSettings=Yr});var Mp={};jl(Mp,{default:()=>ho});module.exports=zl(Mp);var _o=require("obsidian");var ee=require("obsidian");var yn=class{constructor(){this.customFolder="Day Planners";this.mode=0;this.mermaid=!1;this.notesToDates=[];this.completePastItems=!0;this.circularProgress=!1;this.nowAndNextInStatusBar=!1;this.showTaskNotification=!1;this.timelineZoomLevel=4;this.timelineIcon="calendar-with-checkmark";this.plannerLabel="Day Planner";this.breakLabel="BREAK";this.endLabel="END";this.markCurrent=!1;this.correctLabels=!0;this.writer=void 0;this.preserveValues="-"}},Ut=class{constructor(t,r){this.notePath=t,this.date=r}},_t=class{exists(t){return t&&this.active(t)!==void 0}active(t){let r=new Date().toDateString();return t&&t.filter(n=>n.date===r)[0]}},it=(n=>(n[n.File=0]="File",n[n.Command=1]="Command",n[n.Daily=2]="Daily",n))(it||{});var Qi="YYYYMMDD",Xi=/(?<target>{{date:?(?<date>[^}]*)}})/g,Ki="Day Planner-{{date}}.md",xn=`## Day Planner
- [ ] `,Qt="timeline";var z={lineColor:"#CAD5CA",timelineColorBegin:"#008183",timelineColorEnd:"#4d194d",timelineHoverColorBegin:"#83003f",timelineHoverColorEnd:"#5d0e2e"},Ji=["any-key","audio-file","blocks","broken-link","bullet-list","calendar-with-checkmark","checkmark","create-new","cross","cross-in-box","crossed-star","dice","document","documents","dot-network","enter","expand-vertically","filled-pin","folder","gear","go-to-file","hashtag","help","horizontal-split","image-file","info","install","languages","left-arrow","left-arrow-with-tail","lines-of-text","link","logo-crystal","magnifying-glass","microphone","microphone-filled","open-vault","pane-layout","paper-plane","pdf-file","pencil","pin","popup-open","presentation","reset","right-arrow","right-arrow-with-tail","right-triangle","search","sheets-in-box","star","star-list","switch","three-horizontal-bars","trash","two-columns","up-and-down-arrows","uppercase-lowercase-a","vault","vertical-split","vertical-three-dots"];var It=class{replace(t){let r=Xi,n=t,o=[],i;for(;i=r.exec(n);)o.push(i);if(!o||o.length===0)return t;let s=new Date,a=o.map(c=>{let f=c.groups.date===""?Qi:c.groups.date;return[c.groups.target,this.getMoment(s,f)]}),l=n;return a.forEach(c=>{l=l.replace(c[0],c[1])}),l}getMoment(t,r){return window.moment,window.moment(t).format(r)}};var En=class extends ee.PluginSettingTab{constructor(r,n){super(r,n);this.momentDateRegex=new It;this.plugin=n}display(){let{containerEl:r}=this;r.empty(),new ee.Setting(r).setName("Day Planner mode").setDesc(this.modeDescriptionContent()).addDropdown(o=>o.addOption(it[0],"File mode").addOption(it[1],"Command mode").addOption(it[2],"Daily mode").setValue(it[this.plugin.settings.mode]||0 .toString()).onChange(i=>{this.plugin.settings.mode=it[i],this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Complete past planner items").setDesc("The plugin will automatically mark checkboxes for tasks and breaks in the past as complete (x)").addToggle(o=>o.setValue(this.plugin.settings.completePastItems).onChange(i=>{this.plugin.settings.completePastItems=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Mark in progress planner item").setDesc("The plugin will automatically mark the textbox for the current item as in progress (/)").addToggle(o=>o.setValue(this.plugin.settings.markCurrent).onChange(i=>{this.plugin.settings.markCurrent=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Status bar - circular progress").setDesc("Display a circular progress bar in the status bar").addToggle(o=>o.setValue(this.plugin.settings.circularProgress).onChange(i=>{this.plugin.settings.circularProgress=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Status bar - now and next").setDesc("Display now and next tasks in the status bar").addToggle(o=>o.setValue(this.plugin.settings.nowAndNextInStatusBar).onChange(i=>{this.plugin.settings.nowAndNextInStatusBar=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Task notification").setDesc("Display a notification when a new task is started").addToggle(o=>o.setValue(this.plugin.settings.showTaskNotification).onChange(i=>{this.plugin.settings.showTaskNotification=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Timeline zoom level").setDesc("The zoom level to display the timeline. The higher the number, the more vertical space each task will take up.").addSlider(o=>o.setLimits(1,5,1).setValue(this.plugin.settings.timelineZoomLevel??4).setDynamicTooltip().onChange(i=>{this.plugin.settings.timelineZoomLevel=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Timeline icon").setDesc("The icon of the timeline pane. Reopen timeline pane or restart obsidian to see the change.").addDropdown(o=>(Ji.forEach(i=>o.addOption(i,i)),o.setValue(this.plugin.settings.timelineIcon??"calendar-with-checkmark").onChange(i=>{this.plugin.settings.timelineIcon=i,this.plugin.saveData(this.plugin.settings)})));let n={};new ee.Setting(r).setName("Timeline colors").setDesc("Gradient colors for the timeline (line, begin, end, hover begin, hover end, reset).").addColorPicker(o=>{o.setValue(this.plugin.settings.lineColor??z.lineColor).onChange(i=>{this.plugin.settings.lineColor=i,this.plugin.saveData(this.plugin.settings)}),n.lineColor=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorBegin??z.timelineColorBegin).onChange(i=>{this.plugin.settings.timelineColorBegin=i,this.plugin.saveData(this.plugin.settings)}),n.timelineColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorEnd??z.timelineColorEnd).onChange(i=>{this.plugin.settings.timelineColorEnd=i,this.plugin.saveData(this.plugin.settings)}),n.timelineColorEnd=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorBegin??z.timelineHoverColorBegin).onChange(i=>{this.plugin.settings.timelineHoverColorBegin=i,this.plugin.saveData(this.plugin.settings)}),n.timelineHoverColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorEnd??z.timelineHoverColorEnd).onChange(i=>{this.plugin.settings.timelineHoverColorEnd=i,this.plugin.saveData(this.plugin.settings)}),n.timelineHoverColorEnd=o}).addExtraButton(o=>{o.setTooltip("Reset to default colors").setIcon("reset").onClick(()=>{this.plugin.settings.lineColor=z.lineColor,n.lineColor.setValue(z.lineColor),this.plugin.settings.timelineColorBegin=z.timelineColorBegin,n.timelineColorBegin.setValue(z.timelineColorBegin),this.plugin.settings.timelineColorEnd=z.timelineColorEnd,n.timelineColorEnd.setValue(z.timelineColorEnd),this.plugin.settings.timelineHoverColorBegin=z.timelineHoverColorBegin,n.timelineHoverColorBegin.setValue(z.timelineHoverColorBegin),this.plugin.settings.timelineHoverColorEnd=z.timelineHoverColorEnd,n.timelineHoverColorEnd.setValue(z.timelineHoverColorEnd),this.plugin.saveData(this.plugin.settings)})}),new ee.Setting(r).setName("Day Planner heading").setDesc("Use this heading text to mark the beginning of the Day Planner.").addText(o=>o.setValue(this.plugin.settings.plannerLabel??"Day Planner").onChange(i=>{i=i.trim(),i.length>0&&(this.plugin.settings.plannerLabel=i,this.plugin.saveData(this.plugin.settings))})),new ee.Setting(r).setName("BREAK task label").setDesc("Use this label to mark break between tasks.").addText(o=>o.setValue(this.plugin.settings.breakLabel??"BREAK").onChange(i=>{this.plugin.settings.breakLabel=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("END task label").setDesc("Use this label to mark the end of all tasks.").addText(o=>o.setValue(this.plugin.settings.endLabel??"END").onChange(i=>{this.plugin.settings.endLabel=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Consistent BREAK and END labels").setDesc("Replace BREAK and END task text in your planner with the configured label text (consistency)").addToggle(o=>o.setValue(this.plugin.settings.correctLabels).onChange(i=>{this.plugin.settings.correctLabels=i,this.plugin.saveData(this.plugin.settings)})),new ee.Setting(r).setName("Preserve task values").setDesc("Preserve these values in the schedule, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.preserveValues||"-").onChange(i=>{i.length>0&&(i=[...new Set(i)].join("").replace("x","")),this.plugin.settings.preserveValues=i}))}modeDescriptionContent(){let r=document.createDocumentFragment();return r.appendText("Choose between 3 modes to use the Day Planner plugin:"),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("File mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically generates day planner notes for each day within a Day Planners folder."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Command mode"),r.appendChild(document.createElement("br")),r.appendText("Command used to insert a Day Planner for today within the current note."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Daily mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically links to the current daily note. Daily notes plugin must be enabled."),r.appendChild(document.createElement("br")),this.addDocsLink(r),r}addDocsLink(r){let n=document.createElement("a");n.href="https://github.com/ebullient/obsidian-day-planner-og/blob/main/README.md",n.text="plugin README",n.target="_blank",r.appendChild(n),r.appendChild(document.createElement("br"))}};var Rr=class{constructor(t,r,n,o,i,s){this.settings=t,this.statusBar=r,this.workspace=n,this.progress=o,this.plannerMD=i,this.file=s}initStatusBar(){if(this.statusBarAdded)return;let t=this.statusBar.createEl("div",{cls:"day-planner",title:"View the Day Planner",prepend:!0});this.setupCard(t),this.statusBarText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupCircularProgressBar(t),this.setupHorizontalProgressBar(t),this.nextText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupStatusBarEvents(t),this.statusBarAdded=!0}setupStatusBarEvents(t){t.onClickEvent(async r=>{try{let n=this.file.todayPlannerFilePath();this.workspace.openLinkText(n,"",!1)}catch(n){console.log(n)}}),t.on("mouseenter",".day-planner",()=>{this.show(this.card)}),t.on("mouseleave",".day-planner",()=>{this.hide(this.card)})}async refreshStatusBar(t){return!t.empty&&!t.invalid?(this.updateProgress(t.current,t.next),this.show(this.statusBar)):this.hide(this.statusBar),t}hide(t){t&&(t.style.display="none")}show(t){t&&(t.style.display="block")}hideProgress(){this.hide(this.statusBarProgress),this.hide(this.circle),this.hide(this.nextText)}updateProgress(t,r){if(!t||!r||t.isEnd){this.hideProgress(),this.statusBarText.innerText=this.settings.endLabel;return}let{percentageComplete:n,minsUntilNext:o}=this.progress.getProgress(t,r);this.settings.circularProgress?(this.hide(this.statusBarProgress),this.progressCircle(n,t)):(this.hide(this.circle),this.progressBar(n,t)),this.statusText(o,t,r,n)}progressBar(t,r){r.isBreak?this.statusBarCurrentProgress.addClass("green"):this.statusBarCurrentProgress.removeClass("green"),this.statusBarCurrentProgress.style.width=`${t}%`,this.show(this.statusBarProgress)}progressCircle(t,r){r.isBreak?this.circle.addClass("green"):this.circle.removeClass("green"),this.circle.setAttr("data-value",t.toFixed(0)),this.show(this.circle)}statusText(t,r,n,o){t=t==="0"?"1":t;let i=`${t} min${t==="1"?"":"s"}`;if(this.settings.nowAndNextInStatusBar)this.statusBarText.innerHTML=`<strong>Now</strong> ${r.rawTime} ${this.ellipsis(r.text,10)}`,this.nextText.innerHTML=`<strong>Next</strong> ${n.rawTime} ${this.ellipsis(n.text,10)}`,this.show(this.nextText);else{this.hide(this.nextText);let f=r.isBreak?`${this.settings.breakLabel} for ${i}`:`${i} left`;this.statusBarText.innerText=f}let s=`Current Task (${o.toFixed(0)}% complete)`,a=`${r.rawTime} ${r.text}`,l=`Next Task (in ${i})`,c=`${n.rawTime} ${n.text}`;this.cardCurrent.innerHTML=`<strong>${s}</strong><br> ${a}`,this.cardNext.innerHTML=`<strong>${l}</strong><br> ${c}`,this.taskNotification(r,a,l,c)}taskNotification(t,r,n,o){this.settings.showTaskNotification&&this.currentTime!==void 0&&this.currentTime!==t.time.toUTCString()&&new Notification(`Task started, ${r}`,{body:`${n}: ${o}`,requireInteraction:!0}),this.currentTime=t.time.toUTCString()}ellipsis(t,r){return t.length<=r?t:t.substring(0,r)+"..."}setupHorizontalProgressBar(t){this.statusBarProgress=t.createEl("div",{cls:["status-bar-item-segment","day-planner-progress-bar"]}),this.statusBarProgress.style.display="none",this.statusBarCurrentProgress=this.statusBarProgress.createEl("div",{cls:"day-planner-progress-value"})}setupCircularProgressBar(t){this.circle=t.createEl("div",{cls:["status-bar-item-segment","progress-pie day-planner"]})}setupCard(t){this.card=t.createEl("div",{cls:"day-planner-status-card"}),this.cardCurrent=this.card.createEl("span"),this.card.createEl("br"),this.card.createEl("br"),this.cardNext=this.card.createEl("span"),this.card.createEl("div",{cls:"arrow-down"})}};var Xt=window.moment,Sr=class{getProgress(t,r){try{let o=Xt(new Date),i=Xt(t.time),s=Xt(r.time),a=Xt.duration(s.diff(i)),l=Xt.duration(o.diff(i)),c=Xt.duration(s.diff(o)),f=l.asMinutes()/a.asMinutes()*100,p=c.asMinutes().toFixed(0);return{percentageComplete:f,minsUntilNext:p}}catch(n){console.log(n)}}progressMarkdown(t,r){try{let{percentageComplete:n}=this.getProgress(t,r),o=Math.floor(20*(n/100));return new Array(o).join("->")+new Array(20-o).join("_ ")}catch(n){console.log(n)}}};var bo=require("obsidian");var Ke=class{constructor(t,r){this.iAmWriter=r,this.empty=t.length<1,this.invalid=!1,this.items=t,this.past=[]}addItem(t){this.items.push(t),this.empty=!1}calculate(t){try{if(this.items.sort((r,n)=>r.time.getTime()-n.time.getTime()),this.items.length===0){this.empty=!0;return}this.items.forEach((r,n)=>{let o=this.items[n+1];if(r.time<t&&(r.isEnd||o&&t<o.time)?(this.current=r,r.isEnd&&(r.isPast=!0,this.past.push(r)),this.next=r.isEnd?null:o):r.time<t&&(r.isPast=!0,this.past.push(r)),o){let i=window.moment,s=i.duration(i(o.time).diff(i(r.time))).asMinutes();r.durationMins=s}})}catch(r){console.log(r)}}isCurrent(t){return t==this.current}},vo=class{constructor(t,r,n,o,i,s,a,l,c){this.line=t,this.charIndex=r,this.status=n,this.isBreak=o,this.isEnd=i,this.time=s,this.rawTime=a,this.text=l,this.raw=c}},Cn=class{constructor(t){this.settings=t}getPlanItem(t,r,n,o,i,s,a,l,c){let f=this.getDisplayText(o,i,l);return new vo(t,r,n,o,i,s,a,f,c)}getDisplayText(t,r,n){return t&&this.settings.correctLabels?this.settings.breakLabel:r&&this.settings.correctLabels?this.settings.endLabel:n}};var Kt=class{constructor(t,r,n,o,i){this.workspace=t,this.settings=r,this.file=n,this.parser=o,this.progress=i,this.noteForDateQuery=new _t}async insertPlanner(){let t=this.file.todayPlannerFilePath(),n=this.workspace.getActiveViewOfType(bo.MarkdownView).editor.getCursor().line;await this.file.processFile(t,o=>{let i=o.split(`
`);return[...i.slice(0,n),...xn.split(`
`),...i.slice(n)].join(`
`)})}async processDayPlanner(t){try{await this.file.prepareFile();let r=this.file.todayPlannerFilePath(),n=new Ke([],t),o=new Date;return await this.file.processFile(r,i=>this.parser.parseContent(i,n,o)),n}catch(r){console.log(r)}}checkIsDayPlannerEditing(){let t=this.workspace.getActiveViewOfType(bo.MarkdownView);if(t==null)return;let r=t.getState(),n=this.file.todayPlannerFilePath();n&&r.file===n&&(this.dayPlannerLastEdit=new Date().getTime())}};var kn=require("obsidian");var Tn=qi(To()),Hr=class{constructor(t,r){this.vault=t,this.settings=r,this.momentDateRegex=new It,this.noteForDateQuery=new _t}async hasTodayNote(){if(this.settings.mode==2&&(0,Tn.appHasDailyNotesPluginLoaded)()){let t=new Date,{folder:r,format:n}=(0,Tn.getDailyNoteSettings)(),o=this.momentDateRegex.getMoment(t,n)+".md",i=(0,kn.normalizePath)(r+"/"+o);if(await this.vault.adapter.exists(i)){let s=new Ut(i,t.toDateString());return this.settings.notesToDates=[s],!0}return!1}return this.settings.mode===0||this.noteForDateQuery.exists(this.settings.notesToDates)}todayPlannerFilePath(){if(this.settings.mode===1||this.settings.mode===2)return this.noteForDateQuery.active(this.settings.notesToDates)?.notePath;let t=this.todayPlannerFileName();return`${this.settings.customFolder??"Day Planners"}/${t}`}todayPlannerFileName(){return this.momentDateRegex.replace(Ki)}async prepareFile(){try{this.settings.mode===0&&(await this.createFolderIfNotExists(this.settings.customFolder),await this.createFileIfNotExists(this.todayPlannerFilePath()))}catch(t){console.log(t)}}async createFolderIfNotExists(t){try{let r=(0,kn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.createFolder(r)}catch(r){console.log(r)}}async createFileIfNotExists(t){try{let r=(0,kn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.create(r,xn)}catch(r){console.log(r)}}async processFile(t,r){try{return await this.vault.adapter.process(t,r)}catch(n){console.log(n)}}};var Gr=class{constructor(t){this.updateSettings(t),this.PLAN_PARSER_REGEX=new RegExp("^(-?[\\s]*\\[?(?<completion>.)\\]\\s*?(?<hours>\\d{1,2}):(?<minutes>\\d{2})\\s(?<text>.*?))$","i")}updateSettings(t){this.settings=t,this.planItemFactory=new Cn(t),this.PLAN_START=`# ${this.settings.plannerLabel}`;let r=this.sanitize(t.breakLabel),n=this.sanitize(t.endLabel);this.PLAN_BREAK=new RegExp(`(?<=^|\\s)${r}(?=\\s|$)`),this.PLAN_END=new RegExp(`(?<=^|\\s)${n}(?=\\s|$)`)}sanitize(t){return t.replace(/\./g,"\\.").replace(/\*/g,"\\*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}parseContent(t,r,n){let o=!1,i=t.split(`
`);return i.forEach((s,a)=>{if(s.length!=0)if(o){if(s=="---"){o=!1;return}let l=this.parseLine(a,s);l&&(r.addItem(l),o=!l.isEnd)}else s.trim().endsWith(this.PLAN_START)&&(o=!0)}),r.calculate(n),!r.empty&&r.iAmWriter&&r.items.forEach(s=>{let a=this.updateItemCompletion(s,r);i[s.line]=a}),i.join(`
`)}parseLine(t,r){try{let n=this.PLAN_PARSER_REGEX.exec(r);if(n){let o=n,i=o.groups.text,s=this.matches(i,this.PLAN_BREAK),a=this.matches(i,this.PLAN_END),l=new Date;return l.setHours(parseInt(o.groups.hours)),l.setMinutes(parseInt(o.groups.minutes)),l.setSeconds(0),this.planItemFactory.getPlanItem(t,o.index,o.groups.completion,s,a,l,`${o.groups.hours.padStart(2,"0")}:${o.groups.minutes}`,i,o[0])}}catch(n){console.log(n)}}updateItemCompletion(t,r){let n=t.status;return this.settings.completePastItems&&(this.settings.preserveValues.includes(n)||(t.isPast?n="x":this.settings.markCurrent&&r.isCurrent(t)?n="/":n=" ")),`- [${n}] ${t.rawTime} ${t.text}`}matches(t,r){return r.test(t.trim().toUpperCase())}};var ds="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ds);var Je=!1;function ms(){Je=!0}ms();var tr="[",$t="[!",Rt="]",gt={};var oe=Symbol(),le=Symbol("filename"),hs=Symbol("hmr");var _s=new Map;function gs(e,t){var r=_s.get(e);r||(r=new Set,_s.set(e,r)),r.add(t)}var Vr="font-weight: bold",jr="font-weight: normal";function vs(e,t,r){console.warn("hydration_attribute_changed")}function rr(e){console.warn("hydration_mismatch")}function bs(){console.warn("lifecycle_double_unmount")}function No(e,t){console.warn("ownership_invalid_mutation")}function Nn(e){console.warn("state_proxy_equality_mismatch")}var He=Array.isArray,zr=Array.from,Do=Object.keys,be=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,Po=Object.prototype,As=Array.prototype,st=Object.getPrototypeOf;var ce=()=>{};function ws(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}var Ge=Symbol("$state"),Lt=Symbol("$state metadata"),ys=Symbol("");function Pn(e){return e===this.v}function Zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function nr(e){return!Zr(e,this.v)}function xs(){if(!1){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively`);throw e.name="Svelte error",e}else throw new Error("derived_references_self")}function Es(e){if(!1){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function`);throw t.name="Svelte error",t}else throw new Error("effect_in_teardown")}function Cs(){if(!1){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw e.name="Svelte error",e}else throw new Error("effect_in_unowned_derived")}function ks(e){if(!1){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)`);throw t.name="Svelte error",t}else throw new Error("effect_orphan")}function Io(){if(!1){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw e.name="Svelte error",e}else throw new Error("effect_update_depth_exceeded")}function Ts(){if(!1){let e=new Error(`hydration_failed
Failed to hydrate the application`);throw e.name="Svelte error",e}else throw new Error("hydration_failed")}function Ns(e){if(!1){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value`);throw t.name="Svelte error",t}else throw new Error("props_invalid_value")}function Ds(e){if(!1){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw t.name="Svelte error",t}else throw new Error("rune_outside_svelte")}function Ps(){if(!1){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.");throw e.name="Svelte error",e}else throw new Error("state_descriptors_fixed")}function Is(){if(!1){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw e.name="Svelte error",e}else throw new Error("state_prototype_fixed")}function $s(){if(!1){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state");throw e.name="Svelte error",e}else throw new Error("state_unsafe_local_read")}function Rs(){if(!1){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`");throw e.name="Svelte error",e}else throw new Error("state_unsafe_mutation")}var Mt=new Set;function Ro(e){Mt=e}function U(e){return{f:0,v:e,reactions:null,equals:Pn,version:0}}function tt(e,t=!1){var n;let r=U(e);return t||(r.equals=nr),Je&&O!==null&&O.l!==null&&((n=O.l).s??(n.s=[])).push(r),r}function qr(e,t=!1){return mc(tt(e,t))}function mc(e){return W!==null&&W.f&2&&(Ve===null?Ls([e]):Ve.push(e)),e}function V(e,t){return W!==null&&sr()&&W.f&18&&(Ve===null||!Ve.includes(e))&&Rs(),Ur(e,t)}function Ur(e,t){if(!e.equals(t)&&(e.v=t,e.version=In(),Ss(e,1024),sr()&&I!==null&&I.f&512&&!(I.f&32)&&(te!==null&&te.includes(e)?(ie(I,1024),ar(I)):at===null?Ms([e]):at.push(e)),!1)){let n=Array.from(Mt);var r=lt;or(!0);try{for(let o of n)o.f&512&&ie(o,2048),ct(o)&&vt(o)}finally{or(r)}Mt.clear()}return t}function Ss(e,t){var r=e.reactions;if(r!==null)for(var n=sr(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if(!(a&1024)&&!(!n&&s===I)){if(!1){Mt.add(s);continue}ie(s,t),a&640&&(a&2?Ss(s,2048):ar(s))}}}function Ot(e){var t=1026;I===null?t|=128:I.f|=524288;let r={children:null,ctx:O,deps:null,equals:Pn,f:t,fn:e,reactions:null,v:null,version:0,parent:I};if(W!==null&&W.f&2){var n=W;(n.children??(n.children=[])).push(r)}return r}function Qr(e){let t=Ot(e);return t.equals=nr,t}function Lo(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&2?Xr(n):Ae(n)}}}var So=[];function Bo(e){var t,r=I;if(J(e.parent),!1){let n=Mt;Ro(new Set);try{So.includes(e)&&xs(),So.push(e),Lo(e),t=$n(e)}finally{J(r),Ro(n),So.pop()}}else try{Lo(e),t=$n(e)}finally{J(r)}return t}function Oo(e){var t=Bo(e),r=(bt||e.f&128)&&e.deps!==null?2048:512;ie(e,r),e.equals(t)||(e.v=t,e.version=In())}function Xr(e){Lo(e),Ft(e,0),ie(e,8192),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Wo(e){I===null&&W===null&&ks(e),W!==null&&W.f&128&&Cs(),Sn&&Es(e)}function hc(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function cr(e,t,r,n=!0){var o=(e&64)!==0,i=I;if(!1)for(;i!==null&&i.f&131072;)i=i.parent;var s={ctx:O,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|1024,first:null,fn:t,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,version:0};if(!1,r){var a=lt;try{or(!0),vt(s),s.f|=16384}catch(f){throw Ae(s),f}finally{or(a)}}else t!==null&&ar(s);var l=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&524288)===0;if(!l&&!o&&n&&(i!==null&&hc(s,i),W!==null&&W.f&2)){var c=W;(c.children??(c.children=[])).push(s)}return s}function Ie(e){let t=cr(8,null,!1);return ie(t,512),t.teardown=e,t}function fr(e){Wo("$effect");var t=I!==null&&(I.f&32)!==0&&O!==null&&!O.m;if(!1,t){var r=O;(r.e??(r.e=[])).push({fn:e,effect:I,reaction:W})}else{var n=ze(e);return n}}function ur(e){return Wo("$effect.pre"),!1,re(e)}function pr(e){let t=cr(64,e,!0);return()=>{Ae(t)}}function ze(e){return cr(4,e,!1)}function Ho(e,t){var r=O,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=re(()=>{e(),!n.ran&&(n.ran=!0,V(r.l.r2,!0),Z(t))})}function Go(){var e=O;re(()=>{if(B(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&512&&ie(r,2048),ct(r)&&vt(r),t.ran=!1}e.l.r2.v=!1}})}function re(e){return cr(8,e,!0)}function Wt(e){return!1,we(e)}function we(e,t=0){return cr(24|t,e,!0)}function fe(e,t=!0){return cr(40,e,!0,t)}function Vo(e){var t=e.teardown;if(t!==null){let r=Sn,n=W;Fo(!0),he(null);try{t.call(null)}finally{Fo(r),he(n)}}}function jo(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Xr(t[r])}}function zo(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Ae(r,t),r=n}}function Fs(e){for(var t=e.first;t!==null;){var r=t.next;t.f&32||Ae(t),t=r}}function Ae(e,t=!0){var r=!1;if((t||e.f&262144)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:ue(n);n.remove(),n=i}r=!0}zo(e,t&&!r),jo(e),Ft(e,0),ie(e,8192);var s=e.transitions;if(s!==null)for(let l of s)l.stop();Vo(e);var a=e.parent;a!==null&&a.first!==null&&Zo(e),!1,e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function Zo(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ut(e,t){var r=[];Rn(e,r,!0),qo(r,()=>{Ae(e),t&&t()})}function qo(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function Rn(e,t,r){if(!(e.f&4096)){if(e.f^=4096,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&32768)!==0||(n.f&32)!==0;Rn(n,t,i?r:!1),n=o}}}function At(e){Ys(e,!0)}function Ys(e,t){if(e.f&4096){ct(e)&&vt(e),e.f^=4096;for(var r=e.first;r!==null;){var n=r.next,o=(r.f&32768)!==0||(r.f&32)!==0;Ys(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var _c=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,Ln=!1,Mn=!1,Uo=[],Qo=[];function Ws(){Ln=!1;let e=Uo.slice();Uo=[],St(e)}function Hs(){Mn=!1;let e=Qo.slice();Qo=[],St(e)}function Ze(e){Ln||(Ln=!0,queueMicrotask(Ws)),Uo.push(e)}function Gs(e){Mn||(Mn=!0,_c(Hs)),Qo.push(e)}function Vs(){Ln&&Ws(),Mn&&Hs()}var gc={},vc=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,bc=/@(.+):(\d+):(\d+)$/;function Ac(){let e=new Error().stack;if(!e)return null;let t=[];for(let r of e.split(`
`)){let n=vc.exec(r)??bc.exec(r);n&&t.push({file:n[1],line:+n[2],column:+n[3]})}return t}function js(){let e=Ac()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let r=e[t],n=gc[r.file];if(!n){if(t===0)return null;continue}for(let o of n){if(o.end==null)return null;if(o.start.line<r.line&&o.end.line>r.line)return o.component}}return null}var wc=Symbol("ADD_OWNER");function Xo(e,t){if(t.owners!==null)for(;e;){if(e.owners===null){t.owners=null;break}for(let r of e.owners)t.owners.add(r);e=e.parent}}function zs(e,t){return e.owners===null?!0:e.owners.has(t)||e.parent!==null&&zs(e.parent,t)}function Zs(e){return e?.owners?.values().next().value??Zs(e.parent)}var yc=!1;function qs(e){if(yc)return;let t=js();if(t&&!zs(e,t)){let r=Zs(e);r[le]!==t[le]?No(t[le],r[le]):No()}}function Kr(e){if(!1){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation`);throw t.name="Svelte error",t}else throw new Error("lifecycle_outside_component")}var Xs=0,kc=1,Us=new WeakSet,Bn=Xs,Jr=!1,lt=!1,Sn=!1;function or(e){lt=e}function Fo(e){Sn=e}var Ht=[],dr=0,en=[],W=null;function he(e){W=e}var I=null;function J(e){I=e}var Ve=null;function Ls(e){Ve=e}var te=null,ye=0,at=null;function Ms(e){at=e}var Ks=0,bt=!1,Ko=!1,Tc=new Set,O=null;var $e=null;function In(){return++Ks}function sr(){return!Je||O!==null&&O.l===null}function ct(e){var s;var t=e.f;if(t&1024)return!0;if(t&2048){var r=e.deps,n=(t&128)!==0;if(r!==null){var o;if(t&256){for(o=0;o<r.length;o++)((s=r[o]).reactions??(s.reactions=[])).push(e);e.f^=256}for(o=0;o<r.length;o++){var i=r[o];if(ct(i)&&Oo(i),n&&I!==null&&!bt&&!i?.reactions?.includes(e)&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}n||ie(e,512)}return!1}function Nc(e,t,r){if(!!1||Us.has(e)||r===null)throw e;let n=[],o=t.fn?.name;o&&n.push(o);let i=r;for(;i!==null;){if(!1){var s=i.function?.[le];if(s){let c=s.split("/").pop();n.push(c)}}i=i.p}let a=/Firefox/.test(navigator.userAgent)?"  ":"	";be(e,"message",{value:e.message+`
${n.map(c=>`
${a}in ${c}`).join("")}
`});let l=e.stack;if(l){let c=l.split(`
`),f=[];for(let p=0;p<c.length;p++){let u=c[p];u.includes("svelte/src/internal")||f.push(u)}be(e,"stack",{value:e.stack+f.join(`
`)})}throw Us.add(e),e}function $n(e){var u;var t=te,r=ye,n=at,o=W,i=bt,s=Ve,a=O,l=e.f;te=null,ye=0,at=null,W=l&96?null:e,bt=!lt&&(l&128)!==0,Ve=null,O=e.ctx;try{var c=(0,e.fn)(),f=e.deps;if(te!==null){var p;if(Ft(e,ye),f!==null&&ye>0)for(f.length=ye+te.length,p=0;p<te.length;p++)f[ye+p]=te[p];else e.deps=f=te;if(!bt)for(p=ye;p<f.length;p++)((u=f[p]).reactions??(u.reactions=[])).push(e)}else f!==null&&ye<f.length&&(Ft(e,ye),f.length=ye);return c}finally{te=t,ye=r,at=n,W=o,bt=i,Ve=s,O=a}}function Dc(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&t.f&2&&(te===null||!te.includes(t))&&(ie(t,2048),t.f&384||(t.f^=256),Ft(t,0))}function Ft(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Dc(e,r[n])}function vt(e){var t=e.f;if(!(t&8192)){ie(e,512);var r=I,n=O;if(I=e,!1){var o=$e;$e=e.component_function}try{t&16?Fs(e):zo(e),jo(e),Vo(e);var i=$n(e);e.teardown=typeof i=="function"?i:null,e.version=Ks,!1}catch(s){Nc(s,e,n)}finally{I=r,!1}}}function Js(){if(dr>1e3)if(dr=0,!1)try{Io()}catch(e){throw be(e,"stack",{value:""}),console.error("Last ten effects were: ",en.slice(-10).map(t=>t.fn)),en=[],e}else Io();dr++}function ea(e){var t=e.length;if(t!==0){Js();var r=lt;lt=!0;try{for(var n=0;n<t;n++){var o=e[n];o.f&512||(o.f^=512);var i=[];ta(o,i),Pc(i)}}finally{lt=r}}}function Pc(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];!(n.f&12288)&&ct(n)&&(vt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Zo(n):n.fn=null))}}function Ic(){if(Jr=!1,dr>1001)return;let e=Ht;Ht=[],ea(e),Jr||(dr=0,!1)}function ar(e){Bn===Xs&&(Jr||(Jr=!0,queueMicrotask(Ic)));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&96){if(!(r&512))return;t.f^=512}}Ht.push(t)}function ta(e,t){var r=e.first,n=[];e:for(;r!==null;){var o=r.f,i=(o&32)!==0,s=i&&(o&512)!==0;if(!s&&!(o&4096))if(o&8){i?r.f^=512:ct(r)&&vt(r);var a=r.first;if(a!==null){r=a;continue}}else o&4&&n.push(r);var l=r.next;if(l===null){let p=r.parent;for(;p!==null;){if(e===p)break e;var c=p.next;if(c!==null){r=c;continue e}p=p.parent}}r=l}for(var f=0;f<n.length;f++)a=n[f],t.push(a),ta(a,t)}function mr(e){var t=Bn,r=Ht;try{Js();let o=[];Bn=kc,Ht=o,Jr=!1,ea(r);var n=e?.();return Vs(),(Ht.length>0||o.length>0)&&mr(),dr=0,!1,n}finally{Bn=t,Ht=r}}function B(e){var t=e.f,r=(t&2)!==0;if(r&&t&8192){var n=Bo(e);return Xr(e),n}if(Ko&&Tc.add(e),W!==null){Ve!==null&&Ve.includes(e)&&$s();var o=W.deps;te===null&&o!==null&&o[ye]===e?ye++:te===null?te=[e]:te.push(e),at!==null&&I!==null&&I.f&512&&!(I.f&32)&&at.includes(e)&&(ie(I,1024),ar(I))}else if(r&&e.deps===null){var i=e,s=i.parent;s!==null&&!s.deriveds?.includes(i)&&(s.deriveds??(s.deriveds=[])).push(i)}return r&&(i=e,ct(i)&&Oo(i)),e.v}function Z(e){let t=W;try{return W=null,e()}finally{W=t}}var $c=-3585;function ie(e,t){e.f=e.f&$c|t}function tn(e,t=!1,r){O={p:O,c:null,e:null,m:!1,s:e,x:null,l:null},Je&&!t&&(O.l={s:null,u:null,r1:[],r2:U(!1)}),!1}function rn(e){let t=O;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=I,n=W;t.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];J(i.effect),he(i.reaction),ze(i.fn)}}finally{J(r),he(n)}}O=t.p,!1,t.m=!0}return e||{}}function hr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ge in e)Fn(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&Ge in r&&Fn(r)}}}function Fn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Fn(e[n],t)}catch{}let r=st(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Dn(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch{}}}}}if(!1){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Ds(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function wt(e,t=null,r){if(typeof e!="object"||e===null||Ge in e)return e;let n=st(e);if(n!==Po&&n!==As)return e;var o=new Map,i=He(e),s=U(0);i&&o.set("length",U(e.length));var a;if(!1)if(a={parent:t,owners:null},r){let l=r.v?.[Lt]?.owners;a.owners=l?new Set(l):null}else a.owners=t===null?O!==null?new Set([O.function]):null:new Set;return new Proxy(e,{defineProperty(l,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ps();var p=o.get(c);return p===void 0?(p=U(f.value),o.set(c,p)):V(p,wt(f.value,a)),!0},deleteProperty(l,c){var f=o.get(c);if(f===void 0)c in l&&o.set(c,U(oe));else{if(i&&typeof c=="string"){var p=o.get("length"),u=Number(c);Number.isInteger(u)&&u<p.v&&V(p,u)}V(f,oe),ra(s)}return!0},get(l,c,f){if(!1)return a;if(c===Ge)return e;var p=o.get(c),u=c in l;if(p===void 0&&(!u||ke(l,c)?.writable)&&(p=U(wt(u?l[c]:oe,a)),o.set(c,p)),p!==void 0){var m=B(p);if(!1){var h=m?.[Lt];h&&h?.parent!==a&&Xo(a,h)}return m===oe?void 0:m}return Reflect.get(l,c,f)},getOwnPropertyDescriptor(l,c){var f=Reflect.getOwnPropertyDescriptor(l,c);if(f&&"value"in f){var p=o.get(c);p&&(f.value=B(p))}else if(f===void 0){var u=o.get(c),m=u?.v;if(u!==void 0&&m!==oe)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return f},has(l,c){if(c===Ge)return!0;var f=o.get(c),p=f!==void 0&&f.v!==oe||Reflect.has(l,c);if(f!==void 0||I!==null&&(!p||ke(l,c)?.writable)){f===void 0&&(f=U(p?wt(l[c],a):oe),o.set(c,f));var u=B(f);if(u===oe)return!1}return p},set(l,c,f,p){var u=o.get(c),m=c in l;if(i&&c==="length")for(var h=f;h<u.v;h+=1){var A=o.get(h+"");A!==void 0?V(A,oe):h in l&&(A=U(oe),o.set(h+"",A))}if(u===void 0?(!m||ke(l,c)?.writable)&&(u=U(void 0),V(u,wt(f,a)),o.set(c,u)):(m=u.v!==oe,V(u,wt(f,a))),!1){var g=f?.[Lt];g&&g?.parent!==a&&Xo(a,g),qs(a)}var v=Reflect.getOwnPropertyDescriptor(l,c);if(v?.set&&v.set.call(p,f),!m){if(i&&typeof c=="string"){var $=o.get("length"),S=Number(c);Number.isInteger(S)&&S>=$.v&&V($,S+1)}ra(s)}return!0},ownKeys(l){B(s);var c=Reflect.ownKeys(l).filter(u=>{var m=o.get(u);return m===void 0||m.v!==oe});for(var[f,p]of o)p.v!==oe&&!(f in l)&&c.push(f);return c},setPrototypeOf(){Is()}})}function ra(e,t=1){V(e,e.v+t)}function Gt(e){return e!==null&&typeof e=="object"&&Ge in e?e[Ge]:e}function na(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);return a===-1&&r.call(Gt(this),Gt(i),s)!==-1&&Nn("array.indexOf(...)"),a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s??this.length-1);return a===-1&&n.call(Gt(this),Gt(i),s??this.length-1)!==-1&&Nn("array.lastIndexOf(...)"),a},e.includes=function(i,s){let a=o.call(this,i,s);return a||o.call(Gt(this),Gt(i),s)&&Nn("array.includes(...)"),a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var Jo,oa,ia,sa;function Yn(){if(Jo===void 0){Jo=window,oa=document;var e=Element.prototype,t=Node.prototype;ia=ke(t,"firstChild").get,sa=ke(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0,!1}}function qe(e=""){return document.createTextNode(e)}function se(e){return ia.call(e)}function ue(e){return sa.call(e)}function xe(e,t){if(!M)return se(e);var r=se(Y);if(r===null)r=Y.appendChild(qe());else if(t&&r.nodeType!==3){var n=qe();return r?.before(n),q(n),n}return q(r),r}function ei(e,t){if(!M){var r=se(e);return r instanceof Comment&&r.data===""?ue(r):r}if(t&&Y?.nodeType!==3){var n=qe();return Y?.before(n),q(n),n}return Y}function yt(e,t=1,r=!1){let n=M?Y:e;for(;t--;)n=ue(n);if(!M)return n;var o=n.nodeType;if(r&&o!==3){var i=qe();return n?.before(i),q(i),i}return q(n),n}function nn(e){e.textContent=""}var M=!1;function _e(e){M=e}var Y;function q(e){if(e===null)throw rr(),gt;return Y=e}function pe(){return q(ue(Y))}function ge(e){if(M){if(ue(Y)!==null)throw rr(),gt;Y=e}}function on(){for(var e=0,t=Y;;){if(t.nodeType===8){var r=t.data;if(r===Rt){if(e===0)return t;e-=1}else(r===tr||r===$t)&&(e+=1)}var n=ue(t);t.remove(),t=n}}var aa=!1;function Wn(){aa||(aa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ti(e){var t=W,r=I;he(null),J(null);try{return e()}finally{he(t),J(r)}}function ri(e,t,r,n=r){e.addEventListener(t,()=>ti(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n()}:e.__on_r=n,Wn()}var la=new Set,ni=new Set;function sn(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;l<=c&&(s=l)}if(i=o[s]||e.target,i!==t){be(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=W,p=I;he(null),J(null);try{for(var u,m=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var A=i["__"+n];if(A!==void 0&&!i.disabled)if(He(A)){var[g,...v]=A;g.apply(i,[e,...v])}else A.call(i,e)}catch($){u?m.push($):u=$}if(e.cancelBubble||h===t||h===null)break;i=h}if(u){for(let $ of m)queueMicrotask(()=>{throw $});throw u}}finally{e.__root=t,delete e.currentTarget,he(f),J(p)}}}var Rc;function ca(){Rc=void 0}function Hn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function xt(e,t){var r=I;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function _r(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(M)return xt(Y,null),Y;o===void 0&&(o=Hn(i?e:"<!>"+e),r||(o=se(o)));var s=n?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=se(s),l=s.lastChild;xt(a,l)}else xt(s,s);return s}}function Et(e,t){if(M){I.nodes_end=Y,pe();return}e!==null&&e.before(t)}var Mc=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var hh=[...Mc,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var Bc=["touchstart","touchmove"];function fa(e){return Bc.includes(e)}var oi=!0;function an(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function vr(e,t){return ua(e,t)}function si(e,t){Yn(),t.intro=t.intro??!1;let r=t.target,n=M,o=Y;try{for(var i=se(r);i&&(i.nodeType!==8||i.data!==tr);)i=ue(i);if(!i)throw gt;_e(!0),q(i),pe();let s=ua(e,{...t,anchor:i});if(Y===null||Y.nodeType!==8||Y.data!==Rt)throw rr(),gt;return _e(!1),s}catch(s){if(s===gt)return t.recover===!1&&Ts(),Yn(),nn(r),_e(!1),vr(e,t);throw s}finally{_e(n),q(o),ca()}}var gr=new Map;function ua(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){Yn();var a=new Set,l=p=>{for(var u=0;u<p.length;u++){var m=p[u];if(!a.has(m)){a.add(m);var h=fa(m);t.addEventListener(m,sn,{passive:h});var A=gr.get(m);A===void 0?(document.addEventListener(m,sn,{passive:h}),gr.set(m,1)):gr.set(m,A+1)}}};l(zr(la)),ni.add(l);var c=void 0,f=pr(()=>{var p=r??t.appendChild(qe());return fe(()=>{if(i){tn({});var u=O;u.c=i}o&&(n.$$events=o),M&&xt(p,null),oi=s,c=e(p,n)||{},oi=!0,M&&(I.nodes_end=Y),i&&rn()}),()=>{for(var u of a){t.removeEventListener(u,sn);var m=gr.get(u);--m===0?(document.removeEventListener(u,sn),gr.delete(u)):gr.set(u,m)}ni.delete(l),ii.delete(c),p!==r&&p.parentNode?.removeChild(p)}});return ii.set(c,f),c}var ii=new WeakMap;function ln(e){let t=ii.get(e);t?t():!1}function ai(e,t,r,n=null,o=!1){M&&pe();var i=e,s=null,a=null,l=null,c=o?32768:0;we(()=>{if(l===(l=!!t()))return;let f=!1;if(M){let p=i.data===$t;l===p&&(i=on(),q(i),_e(!1),f=!0)}l?(s?At(s):s=fe(()=>r(i)),a&&ut(a,()=>{a=null})):(a?At(a):n&&(a=fe(()=>n(i))),s&&ut(s,()=>{s=null})),f&&_e(!0)},c),M&&(i=Y)}var cn=null;function fi(e,t){return t}function Hc(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)Rn(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;nn(l),l.append(r),n.clear(),Ct(e,t[0].prev,t[i-1].next)}qo(o,()=>{for(var c=0;c<i;c++){var f=t[c];a||(n.delete(f.k),Ct(e,f.prev,f.next)),Ae(f.e,!a)}})}function ui(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var c=e;s=M?q(se(c)):c.appendChild(qe())}M&&pe();var f=null,p=!1;we(()=>{var u=r(),m=He(u)?u:u==null?[]:zr(u),h=m.length;if(p&&h===0)return;p=h===0;let A=!1;if(M){var g=s.data===$t;g!==(h===0)&&(s=on(),q(s),_e(!1),A=!0)}if(M){for(var v=null,$,S=0;S<h;S++){if(Y.nodeType===8&&Y.data===Rt){s=Y,A=!0,_e(!1);break}var T=m[S],R=n(T,S);$=_a(Y,a,v,null,T,R,S,o,t),a.items.set(R,$),v=$}h>0&&q(on())}if(!M){var N=W;Gc(m,a,s,o,t,(N.f&4096)!==0,n)}i!==null&&(h===0?f?At(f):f=fe(()=>i(s)):f!==null&&ut(f,()=>{f=null})),A&&_e(!0),r()}),M&&(s=Y)}function Gc(e,t,r,n,o,i,s){var a=(o&8)!==0,l=(o&3)!==0,c=e.length,f=t.items,p=t.first,u=p,m,h=null,A,g=[],v=[],$,S,T,R;if(a)for(R=0;R<c;R+=1)$=e[R],S=s($,R),T=f.get(S),T!==void 0&&(T.a?.measure(),(A??(A=new Set)).add(T));for(R=0;R<c;R+=1){if($=e[R],S=s($,R),T=f.get(S),T===void 0){var N=u?u.e.nodes_start:r;h=_a(N,t,h,h===null?t.first:h.next,$,S,R,n,o),f.set(S,h),g=[],v=[],u=h.next;continue}if(l&&Vc(T,$,R,o),T.e.f&4096&&(At(T.e),a&&(T.a?.unfix(),(A??(A=new Set)).delete(T))),T!==u){if(m!==void 0&&m.has(T)){if(g.length<v.length){var _=v[0],y;h=_.prev;var C=g[0],w=g[g.length-1];for(y=0;y<g.length;y+=1)ma(g[y],_,r);for(y=0;y<v.length;y+=1)m.delete(v[y]);Ct(t,C.prev,w.next),Ct(t,h,C),Ct(t,w,_),u=_,h=w,R-=1,g=[],v=[]}else m.delete(T),ma(T,u,r),Ct(t,T.prev,T.next),Ct(t,T,h===null?t.first:h.next),Ct(t,h,T),h=T;continue}for(g=[],v=[];u!==null&&u.k!==S;)(i||!(u.e.f&4096))&&(m??(m=new Set)).add(u),v.push(u),u=u.next;if(u===null)continue;T=u}g.push(T),h=T,u=T.next}if(u!==null||m!==void 0){for(var P=m===void 0?[]:zr(m);u!==null;)(i||!(u.e.f&4096))&&P.push(u),u=u.next;var L=P.length;if(L>0){var H=o&4&&c===0?r:null;if(a){for(R=0;R<L;R+=1)P[R].a?.measure();for(R=0;R<L;R+=1)P[R].a?.fix()}Hc(t,P,H,f)}}a&&Ze(()=>{if(A!==void 0)for(T of A)T.a?.apply()}),I.first=t.first&&t.first.e,I.last=h&&h.e}function Vc(e,t,r,n){n&1&&Ur(e.v,t),n&2?Ur(e.i,r):e.i=r}function _a(e,t,r,n,o,i,s,a,l){var c=cn,f=(l&1)!==0,p=(l&16)===0,u=f?p?tt(o):U(o):o,m=l&2?U(s):s,h={i:m,v:u,k:i,a:null,e:null,prev:r,next:n};cn=h;try{return h.e=fe(()=>a(e,u,m),M),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{cn=c}}function ma(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=ue(i);o.before(i),i=s}}function Ct(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function pi(e,t){Ze(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let o=document.createElement("style");o.id=t.hash,o.textContent=t.code,n.appendChild(o),!1}})}function mi(e){if(M){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;rt(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;rt(e,"checked",null),e.checked=o}}};e.__on_r=r,Gs(r),Wn()}}function rt(e,t,r,n){var o=e.__attributes??(e.__attributes={});if(M&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Uc(e,t,r??"");return}o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ys]=r),r==null?e.removeAttribute(t):typeof r!="string"&&qc(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var ga=new Map;function qc(e){var t=ga.get(e.nodeName);if(t)return t;ga.set(e.nodeName,t=[]);for(var r,n=st(e),o=Element.prototype;o!==n;){r=Dn(n);for(var i in r)r[i].set&&t.push(i);n=st(n)}return t}function Uc(e,t,r){!1}function di(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function va(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function Qc(e,t){var r=va(e.srcset),n=va(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(di(r[s][0],o)||di(o,r[s][0])))}function fn(e,t){var r=e.__className,n=Xc(t);M&&e.className===n?e.__className=n:(r!==n||M&&e.className!==n)&&(t==null?e.removeAttribute("class"):e.className=n,e.__className=n)}function Xc(e){return e??""}function hi(e,t,r=t){ri(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),re(()=>{var n=t();e.checked=!!n})}function _i(e=!1){let t=O,r=t.l.u;if(!r)return;let n=()=>hr(t.s);if(e){let o=0,i={},s=Ot(()=>{let a=!1,l=t.s;for(let c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&o++,o});n=()=>B(s)}r.b.length&&ur(()=>{ba(t,n),St(r.b)}),fr(()=>{let o=Z(()=>r.m.map(ws));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&fr(()=>{ba(t,n),St(r.a)})}function ba(e,t){if(e.l.s)for(let r of e.l.s)B(r);t()}function gi(e){O===null&&Kr("onMount"),Je&&O.l!==null?sf(O).m.push(e):fr(()=>{let t=Z(e);if(typeof t=="function")return t})}function wa(e){O===null&&Kr("onDestroy"),gi(()=>()=>Z(e))}function sf(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function vi(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ce;let n=Z(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var Vn=!1;function br(e,t,r){let n=r[t]??(r[t]={store:null,source:tt(void 0),unsubscribe:ce});if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ce;else{var o=!0;n.unsubscribe=vi(e,i=>{o?n.source.v=i:V(n.source,i)}),o=!1}return B(n.source)}function bi(){let e={};return Ie(()=>{for(var t in e)e[t].unsubscribe()}),e}function Ai(e){var t=Vn;try{return Vn=!1,[e(),Vn]}finally{Vn=t}}function ya(e){for(var t=I,r=I;t!==null&&!(t.f&96);)t=t.parent;try{return J(t),e()}finally{J(r)}}function un(e,t,r,n){var o=(r&1)!==0,i=!Je||(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,l=!1,c;s?[c,l]=Ai(()=>e[t]):c=e[t];var f=ke(e,t)?.set,p=n,u=!0,m=!1,h=()=>(m=!0,u&&(u=!1,a?p=Z(n):p=n),p);c===void 0&&n!==void 0&&(f&&i&&Ns(t),c=h(),f&&f(c));var A;if(i)A=()=>{var N=e[t];return N===void 0?h():(u=!0,m=!1,N)};else{var g=ya(()=>(o?Ot:Qr)(()=>e[t]));g.f|=65536,A=()=>{var N=B(g);return N!==void 0&&(p=void 0),N===void 0?p:N}}if(!(r&4))return A;if(f){var v=e.$$legacy;return function(N,_){return arguments.length>0?((!i||!_||v||l)&&f(_?A():N),N):A()}}var $=!1,S=!1,T=tt(c),R=ya(()=>Ot(()=>{var N=A(),_=B(T);return $?($=!1,S=!0,_):(S=!1,T.v=N)}));return o||(R.equals=nr),function(N,_){if(Ko&&($=S,A(),B(T)),arguments.length>0){let y=_?B(R):i&&s?wt(N):N;return R.equals(y)||($=!0,V(T,y),m&&p!==void 0&&(p=y),Z(()=>B(R))),N}return B(R)}}function xa(e){return new wi(e)}var pt,Re,wi=class{constructor(t){An(this,pt);An(this,Re);var r=new Map,n=(i,s)=>{var a=tt(s);return r.set(i,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(i,s){return B(r.get(s)??n(s,Reflect.get(i,s)))},has(i,s){return B(r.get(s)??n(s,Reflect.get(i,s))),Reflect.has(i,s)},set(i,s,a){return V(r.get(s)??n(s,a),a),Reflect.set(i,s,a)}});wn(this,Re,(t.hydrate?si:vr)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!t?.props?.$$host||t.sync===!1)&&mr(),wn(this,pt,o.$$events);for(let i of Object.keys(ae(this,Re)))i==="$set"||i==="$destroy"||i==="$on"||be(this,i,{get(){return ae(this,Re)[i]},set(s){ae(this,Re)[i]=s},enumerable:!0});ae(this,Re).$set=i=>{Object.assign(o,i)},ae(this,Re).$destroy=()=>{ln(ae(this,Re))}}$set(t){ae(this,Re).$set(t)}$on(t,r){ae(this,pt)[t]=ae(this,pt)[t]||[];let n=(...o)=>r.call(this,...o);return ae(this,pt)[t].push(n),()=>{ae(this,pt)[t]=ae(this,pt)[t].filter(o=>o!==n)}}$destroy(){ae(this,Re).$destroy()}};pt=new WeakMap,Re=new WeakMap;var bf;typeof HTMLElement=="function"&&(bf=class extends HTMLElement{constructor(t,r,n){super();Ce(this,"$$ctor");Ce(this,"$$s");Ce(this,"$$c");Ce(this,"$$cn",!1);Ce(this,"$$d",{});Ce(this,"$$r",!1);Ce(this,"$$p_d",{});Ce(this,"$$l",{});Ce(this,"$$l_u",new Map);Ce(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),Et(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Af(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=yi(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=xa({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=pr(()=>{re(()=>{this.$$r=!0;for(let o of Do(this.$$c)){if(!this.$$p_d[o]?.reflect)continue;this.$$d[o]=this.$$c[o];let i=yi(o,this.$$d[o],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,i)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=yi(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Do(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function yi(e,t,r,n){let o=r[e]?.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Af(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}var Ar=[];function Vt(e,t=ce){let r=null,n=new Set;function o(a){if(Zr(e,a)&&(e=a,r)){let l=!Ar.length;for(let c of n)c[1](),Ar.push(c,e);if(l){for(let c=0;c<Ar.length;c+=2)Ar[c][0](Ar[c+1]);Ar.length=0}}}function i(a){o(a(e))}function s(a,l=ce){let c=[a,l];return n.add(c),n.size===1&&(r=t(o,i)||ce),a(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}var jn=Vt(new Ke([],!1)),zn=Vt(new Date),Zn=Vt([]),qn=Vt([]);var Cf=_r('<div><div class="event_item_contents svelte-1w1uwcg"><div></div> <div class="ei_Item svelte-1w1uwcg"><span class="ei_Title svelte-1w1uwcg"> </span> <span class="ei_Copy svelte-1w1uwcg"> </span></div></div></div>'),kf=_r('<div><div class="aside__line filled__line svelte-1w1uwcg"><div class="filled__line__completed svelte-1w1uwcg"></div></div></div> <div class="events svelte-1w1uwcg"></div> <div id="now-line" class="svelte-1w1uwcg"><span class="timeline-time svelte-1w1uwcg"> </span></div> <div id="scroll-controls" class="svelte-1w1uwcg"><label for="auto-scroll" class="svelte-1w1uwcg">Track time</label> <input id="auto-scroll" type="checkbox" class="toggle svelte-1w1uwcg"></div>',1),Tf=_r('<div class="empty-timeline svelte-1w1uwcg">No Planner Data</div>'),Nf=_r('<div id="day-planner-timeline-container" class="svelte-1w1uwcg"><!></div>'),Df={hash:"svelte-1w1uwcg",code:`#day-planner-timeline-container.svelte-1w1uwcg {position:relative;}.aside.svelte-1w1uwcg {position:absolute;top:-1px;left:0;width:65px;height:100%;background-repeat:repeat-y;opacity:80%;}.aside-x5.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEsCAYAAADHIkNEAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAABLAAAAAAuMW7GAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAsElEQVR4Ae3ZMQoAIAgFUL3/ocsO0GBLFE9wESJ8jj8jYlQrAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBbwWyNutGQuuNIkCAAAECBAgQIECAAAECBAgQIECAAAECBAgQeEbgJBLaLScq2smYEyBAgAABAgQIECBAgAABAgQIECBAgAABAgSuCpxEQqKfqyfzOQECBAgQIECAAAECBAgQIECAAAECBAgQIECgKzABwWUEBHBCyqYAAAAASUVORK5CYII=);}.aside-x4.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADwCAYAAAAEqZSkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAA8AAAAABUK6+SAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA2klEQVR4Ae3bMQqEMBBA0QT2Bh7G+5d2e5G9wRZruliM6CCBsE8QQghxeOUHaynlvb/zPHUf9TXPuCYlQIAAAQIECBAgQIAAAQIECBAg8N8CLegtNwk+V863i7crB7sza7cev8y0ze/4MX2RAAECBAgQIECAAAECBAgQIECAAIEmkGmbkdyheWbaZnTxmOaZaZvRxJpnJGOfAAECBAgQIECAAAECBAgQIECAwEMCmbZ5aJjRHJm2OaZhnk189590DTPStE+AAAECBAgQIECAAAECBAgQIEBgVoEfgLcJ4JWKwMAAAAAASUVORK5CYII=);}.aside-x3.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAC0CAYAAACQYNzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAtAAAAAD5WFEbAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA6UlEQVRoBe3XQQrCQAwF0Bb0Hr2heB4v14MIOtmli8GmlFHhBQbimA7h7f48TdOjnf+pua16/Z91bUqAAAECBAgQIECAAAECHwQi58Wp1KsyfPpsbLsUX133zF/a0G3PYJq5p358GxSxdaWelWGzBAgQIECAAAECBAgQIDBUIHJenDNqTHiPbZcz1m1vrPmdIyE9f5/7MeE9KKohPW+Ze+E9a+gJECBAgAABAgQIECDwHYHIeXEqNSaM9zaKbZfen537tXO/uT4S0seE8c2a6UdQVEO6MJ4AtQQIECBAgAABAgQIECDwqwJv9lMMWDcoNMAAAAAASUVORK5CYII=);}.aside-x2.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAB4CAYAAAD2SgIRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAeAAAAADVvVTBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAAt0lEQVRoBe3YMQqAMAyF4VYUD+Ii7p7JK7t4EkVsnOoSEtql+AuC2GdIPxxCYwhhS3c7V0ytju20S6cIIIAAAggg8EcBGVh658YvZ75uXDqenSV3S14YFkswy5gKZ3keEUAAAQQQQACBnwnI7NZV2vNdqY5eRjqe9Ih59ciTMm2u+YuC50/hgjr6p0Ix6BHz6mlOEkQAAQQQQAABBBwCMrBwtvmCcbbp+G+IIoAAAggggAACCDgFHqn/Cpqy3VM1AAAAAElFTkSuQmCC);}.aside-x1.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAA8CAYAAABig0prAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAPAAAAAB4zqpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAArElEQVRYCe2VSwqAMAxEW3WjK3eCHsT7H0bBQ/jp7LqokIQirUyhUMIkJA8y9c65Ndx6jg+tdvW0y05J4CcEsHmtcpZTqc8rR8eLsuQm0cOAeomwGA1Q4GrOrRFTSwIkkCCArWsScUvosiSpc9DxrM5KJ+xxGLY5xIHi3xbbfBuKdvpGhnESqJ8AvGJSjnFI9LDNUSKMNKLCkT7v0/LnffO35Z2T1UiABAol8ACZ6QleECm8BQAAAABJRU5ErkJggg==);}.aside__line.svelte-1w1uwcg {position:absolute;left:65px;transform:translateX(-50%);width:4px;height:100%;background:var(--aside-line);}.filled.svelte-1w1uwcg {transform-origin:top center;z-index:1;
        animation: scaleDown 1s ease-in-out;animation-fill-mode:forwards;}.filled__line__completed.svelte-1w1uwcg {position:absolute;top:0;left:0;width:100%;}.events.svelte-1w1uwcg {position:relative;padding-bottom:50px;}.event_item.svelte-1w1uwcg {background-color:var(--event-color);border-bottom:2px solid var(--background-primary);margin:0;cursor:pointer;padding:5px 10px 10px 0;width:100%;overflow:hidden;}.event_item.short.svelte-1w1uwcg {padding:0;}.event_item.svelte-1w1uwcg:hover {background-color:var(--event-hover);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);}.event_item_contents.svelte-1w1uwcg {padding-left:58px;}.ei_Copy.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg {color:var(--text-on-accent);}.ei_Dot.svelte-1w1uwcg {display:inline-block;position:absolute;border-radius:50%;width:14px;height:14px;margin-top:5px;background-color:var(--aside-dot);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);z-index:2;}.dot_active.svelte-1w1uwcg {background-color:var(--active-dot);}.ei_Item.svelte-1w1uwcg {padding-left:40px;text-indent:-20px;}.ei_Title.svelte-1w1uwcg {padding-right:10px;}.ei_Copy.svelte-1w1uwcg {font-size:15px;}.header_title.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg,
    .ce_title.svelte-1w1uwcg {color:#fff;}#now-line.svelte-1w1uwcg {height:4px;background-color:darkred;opacity:80%;position:absolute;z-index:3;width:100%;}#now-line.svelte-1w1uwcg .timeline-time:where(.svelte-1w1uwcg) {position:relative;left:5px;top:0;background-color:darkred;color:#fff;padding:0 4px 2px 4px;border-radius:0 0 4px 4px;text-align:center;}#scroll-controls.svelte-1w1uwcg {background-color:var(--background-secondary);position:sticky;bottom:0;width:100%;z-index:4;padding:8px 15px;text-align:center;height:45px;}#scroll-controls.svelte-1w1uwcg label:where(.svelte-1w1uwcg) {display:block;float:left;margin:2px;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg) {-webkit-appearance:none;-moz-appearance:none;appearance:none;width:50px;height:20px;display:block;float:left;position:relative;margin-top:5px;border-radius:50px;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:var(--background-secondary-alt);transition:background-color ease 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):before {content:"on    ";display:block;position:absolute;z-index:2;width:17px;height:17px;background:#fff;left:2px;top:1px;border-radius:50%;font:9px/18px Helvetica;text-transform:uppercase;font-weight:bold;text-indent:-24px;word-spacing:30px;color:#fff;text-shadow:-1px -1px rgba(0, 0, 0, 0.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);transition:all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked {background-color:var(--interactive-accent);}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked:before {left:31px;}#scroll-controls.svelte-1w1uwcg input[type="checkbox"]:where(.svelte-1w1uwcg):checked:after {background-color:transparent;}.empty-timeline.svelte-1w1uwcg {text-align:center;vertical-align:middle;margin-top:50%;}`};function xi(e,t){tn(t,!1),pi(e,Df);let r=bi(),n=()=>br(zn,"$now",r),o=()=>br(jn,"$planSummary",r),i=()=>br(Zn,"$timelineColors",r),s=()=>br(qn,"$timelineHoverColors",r),a=window.moment,l=/\[([^\]]+)\]\(([^)]+)\)/g,c=/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,f=un(t,"lineColor",8),p=un(t,"zoomLevel",8),u=un(t,"rootEl",8);console.log("TimelineView.onOpen",{zoomLevel:p(),rootEl:u()});let m=qr(0),h=qr(0),A=qr(!0);function g(C){return a.duration(a(C).format("HH:mm")).asMinutes()*p()}gi(()=>{S()}),wa(()=>{T()});function v(C){let w=[];return C.durationMins<75/p()&&w.push("short"),C.isPast&&w.push("past"),C.isBreak&&w.push("break"),w.join(" ")}function $(C){let w=C.text??"";return w=w.replace(l,(P,L,H)=>(console.log("markdown link",C.text),`${L}`)),w=w.replace(c,(P,L,H,ve)=>(console.log("wiki link",C.text),`${ve||L}`)),w}function S(){u().addEventListener("scroll",N)}function T(){u().removeEventListener("scroll",N)}function R(C){B(A)&&!o().current?.isEnd&&(T(),u().scrollTo({left:0,top:C,behavior:"smooth"}),setTimeout(S,1e3))}function N(C){V(A,!1)}Ho(()=>(n(),o(),B(m),hr(p())),()=>{let C=n(),w=o(),P=w.items.first();V(m,w.empty?0:g(C)-g(P.time)),V(h,w.empty?0:P.time.getMinutes()*p()*-1-1),R(B(m)-150)}),Go(),_i();var _=Nf(),y=xe(_);ai(y,()=>o().items.length>0,C=>{var w=kf(),P=ei(w),L=xe(P),H=xe(L);ge(L),ge(P);var ve=yt(P,2);ui(ve,5,()=>o().items,fi,(vn,ht,bn)=>{var Xe=Cf();let Ll=Qr(()=>`event_item ${v(B(ht))??""} svelte-1w1uwcg`);var Hi=xe(Xe),Gi=xe(Hi),Vi=yt(Gi,2),go=xe(Vi),Ml=xe(go,!0);ge(go);var ji=yt(go,2),Bl=xe(ji,!0);Wt(()=>an(Bl,$(B(ht)))),ge(ji),ge(Vi),ge(Hi),ge(Xe),Wt(()=>{fn(Xe,B(Ll)),rt(Xe,"style",`height: ${B(ht).durationMins*p()}px; --event-color: ${i()[bn]??""}; --event-hover: ${s()[bn]??""};`),rt(Xe,"data-title",B(ht).rawTime),fn(Gi,`ei_Dot ${(B(ht)===o().current?"dot_active":"")??""} svelte-1w1uwcg`),an(Ml,B(ht).rawTime)}),Et(vn,Xe)}),ge(ve);var Fe=yt(ve,2),Pt=xe(Fe),qt=xe(Pt,!0);Wt(()=>an(qt,a(n()).format("HH:mm"))),ge(Pt),ge(Fe);var Ir=yt(Fe,2),gn=yt(xe(Ir),2);mi(gn),ge(Ir),Wt(()=>{fn(P,`aside aside-x${p()??""} filled svelte-1w1uwcg`),rt(P,"style",`top: ${B(h)??""}px;`),rt(H,"style",`height: ${B(m)??""}px;`),rt(Fe,"style",`top:${B(m)??""}px; display: ${(o().current&&!o().current.isEnd?"block":"none")??""}`)}),hi(gn,()=>B(A),vn=>V(A,vn)),Et(C,w)},C=>{var w=Tf();Et(C,w)}),ge(_),Wt(()=>rt(_,"style",`--aside-line: color-mix(in srgb, ${f()??""} 40%, transparent); --aside-dot: color-mix(in srgb, ${f()??""} 60%, transparent); --active-dot: ${f()??""}`)),Et(e,_),rn()}var{min:Pf,max:If}=Math,Se=(e,t=0,r=1)=>Pf(If(t,e),r);var jt=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=Se(e[t],0,255)):t===3&&(e[t]=Se(e[t],0,1));return e};var Ea={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Ea[`[object ${e}]`]=e.toLowerCase();function E(e){return Ea[Object.prototype.toString.call(e)]||"object"}var b=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):E(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0);var Ee=e=>{if(e.length<2)return null;let t=e.length-1;return E(e[t])=="string"?e[t].toLowerCase():null};var{PI:Un,min:Qn,max:Xn}=Math,ne=e=>Math.round(e*100)/100,pn=e=>Math.round(e*100)/100,Le=Un*2,Kn=Un/3,Ca=Un/180,ka=180/Un;function Jn(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}var k={format:{},autodetect:[]};var Ei=class{constructor(...t){let r=this;if(E(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Ee(t),o=!1;if(!n){o=!0,k.sorted||(k.autodetect=k.autodetect.sort((i,s)=>s.p-i.p),k.sorted=!0);for(let i of k.autodetect)if(n=i.test(...t),n)break}if(k.format[n]){let i=k.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=jt(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return E(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},d=Ei;var Ta="3.1.2";var Na=(...e)=>new d(...e);Na.version=Ta;var D=Na;var $f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},kt=$f;var Rf=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Sf=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Lf=e=>{if(e.match(Rf)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16),r=t>>16,n=t>>8&255,o=t&255;return[r,n,o,1]}if(e.match(Sf)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=t>>24&255,n=t>>16&255,o=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,o,i]}throw new Error(`unknown hex color: ${e}`)},eo=Lf;var{round:to}=Math,Mf=(...e)=>{let[t,r,n,o]=b(e,"rgba"),i=Ee(e)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),t=to(t),r=to(r),n=to(n);let a="000000"+(t<<16|r<<8|n).toString(16);a=a.substr(a.length-6);let l="0"+to(o*255).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},ro=Mf;d.prototype.name=function(){let e=ro(this._rgb,"rgb");for(let t of Object.keys(kt))if(kt[t]===e)return t.toLowerCase();return e};k.format.named=e=>{if(e=e.toLowerCase(),kt[e])return eo(kt[e]);throw new Error("unknown color name: "+e)};k.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&kt[e.toLowerCase()])return"named"}});d.prototype.alpha=function(e,t=!1){return e!==void 0&&E(e)==="number"?t?(this._rgb[3]=e,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};d.prototype.clipped=function(){return this._rgb._clipped||!1};var dn={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},nt=dn,Bf=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Me(e){let t=Bf.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);dn.labWhitePoint=e,dn.Xn=t[0],dn.Zn=t[1]}function Tt(){return dn.labWhitePoint}var Of=(...e)=>{e=b(e,"lab");let[t,r,n]=e,[o,i,s]=Ff(t,r,n),[a,l,c]=ki(o,i,s);return[a,l,c,e.length>3?e[3]:1]},Ff=(e,t,r)=>{let{kE:n,kK:o,kKE:i,Xn:s,Yn:a,Zn:l}=nt,c=(e+16)/116,f=.002*t+c,p=c-.005*r,u=f*f*f,m=p*p*p,h=u>n?u:(116*f-16)/o,A=e>i?Math.pow((e+16)/116,3):e/o,g=m>n?m:(116*p-16)/o,v=h*s,$=A*a,S=g*l;return[v,$,S]},Ci=e=>{let t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},ki=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:a,Yn:l,Zn:c}=nt,f=a*n.m00+l*n.m10+c*n.m20,p=a*n.m01+l*n.m11+c*n.m21,u=a*n.m02+l*n.m12+c*n.m22,m=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,h=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,A=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,g=(e*n.m00+t*n.m10+r*n.m20)*(m/f),v=(e*n.m01+t*n.m11+r*n.m21)*(h/p),$=(e*n.m02+t*n.m12+r*n.m22)*(A/u),S=g*o.m00+v*o.m10+$*o.m20,T=g*o.m01+v*o.m11+$*o.m21,R=g*o.m02+v*o.m12+$*o.m22,N=Ci(S*i.m00+T*i.m10+R*i.m20),_=Ci(S*i.m01+T*i.m11+R*i.m21),y=Ci(S*i.m02+T*i.m12+R*i.m22);return[N*255,_*255,y*255]},wr=Of;var Yf=(...e)=>{let[t,r,n,...o]=b(e,"rgb"),[i,s,a]=Ni(t,r,n),[l,c,f]=Wf(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function Wf(e,t,r){let{Xn:n,Yn:o,Zn:i,kE:s,kK:a}=nt,l=e/n,c=t/o,f=r/i,p=l>s?Math.pow(l,1/3):(a*l+16)/116,u=c>s?Math.pow(c,1/3):(a*c+16)/116,m=f>s?Math.pow(f,1/3):(a*f+16)/116;return[116*u-16,500*(p-u),200*(u-m)]}function Ti(e){let t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}var Ni=(e,t,r)=>{e=Ti(e/255),t=Ti(t/255),r=Ti(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:a,Zn:l,As:c,Bs:f,Cs:p}=nt,u=e*n.m00+t*n.m10+r*n.m20,m=e*n.m01+t*n.m11+r*n.m21,h=e*n.m02+t*n.m12+r*n.m22,A=s*o.m00+a*o.m10+l*o.m20,g=s*o.m01+a*o.m11+l*o.m21,v=s*o.m02+a*o.m12+l*o.m22,$=u*o.m00+m*o.m10+h*o.m20,S=u*o.m01+m*o.m11+h*o.m21,T=u*o.m02+m*o.m12+h*o.m22;return $*=A/c,S*=g/f,T*=v/p,u=$*i.m00+S*i.m10+T*i.m20,m=$*i.m01+S*i.m11+T*i.m21,h=$*i.m02+S*i.m12+T*i.m22,[u,m,h]},yr=Yf;d.prototype.lab=function(){return yr(this._rgb)};var Hf=(...e)=>new d(...e,"lab");Object.assign(D,{lab:Hf,getLabWhitePoint:Tt,setLabWhitePoint:Me});k.format.lab=wr;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"lab"),E(e)==="array"&&e.length===3)return"lab"}});d.prototype.darken=function(e=1){let t=this,r=t.lab();return r[0]-=nt.Kn*e,new d(r,"lab").alpha(t.alpha(),!0)};d.prototype.brighten=function(e=1){return this.darken(-e)};d.prototype.darker=d.prototype.darken;d.prototype.brighter=d.prototype.brighten;d.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(r){let o=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};var{pow:Gf}=Math,Vf=1e-7,jf=20;d.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&E(e)==="number"){if(e===0)return new d([0,0,0,this._rgb[3]],"rgb");if(e===1)return new d([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=jf,o=(s,a)=>{let l=s.interpolate(a,.5,t),c=l.luminance();return Math.abs(e-c)<Vf||!n--?l:c>e?o(s,l):o(l,a)},i=(r>e?o(new d([0,0,0]),this):o(this,new d([255,255,255]))).rgb();return new d([...i,this._rgb[3]])}return zf(...this._rgb.slice(0,3))};var zf=(e,t,r)=>(e=Di(e),t=Di(t),r=Di(r),.2126*e+.7152*t+.0722*r),Di=e=>(e/=255,e<=.03928?e/12.92:Gf((e+.055)/1.055,2.4));var G={};var ot=(e,t,r=.5,...n)=>{let o=n[0]||"lrgb";if(!G[o]&&!n.length&&(o=Object.keys(G)[0]),!G[o])throw new Error(`interpolation mode ${o} is not defined`);return E(e)!=="object"&&(e=new d(e)),E(t)!=="object"&&(t=new d(t)),G[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};d.prototype.mix=d.prototype.interpolate=function(e,t=.5,...r){return ot(this,e,t,...r)};d.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new d([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var{sin:Zf,cos:qf}=Math,Uf=(...e)=>{let[t,r,n]=b(e,"lch");return isNaN(n)&&(n=0),n=n*Ca,[t,qf(n)*r,Zf(n)*r]},no=Uf;var Qf=(...e)=>{e=b(e,"lch");let[t,r,n]=e,[o,i,s]=no(t,r,n),[a,l,c]=wr(o,i,s);return[a,l,c,e.length>3?e[3]:1]},xr=Qf;var Xf=(...e)=>{let t=Jn(b(e,"hcl"));return xr(...t)},Da=Xf;var{sqrt:Kf,atan2:Jf,round:eu}=Math,tu=(...e)=>{let[t,r,n]=b(e,"lab"),o=Kf(r*r+n*n),i=(Jf(n,r)*ka+360)%360;return eu(o*1e4)===0&&(i=Number.NaN),[t,o,i]},oo=tu;var ru=(...e)=>{let[t,r,n,...o]=b(e,"rgb"),[i,s,a]=yr(t,r,n),[l,c,f]=oo(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},mn=ru;d.prototype.lch=function(){return mn(this._rgb)};d.prototype.hcl=function(){return Jn(mn(this._rgb))};var nu=(...e)=>new d(...e,"lch"),ou=(...e)=>new d(...e,"hcl");Object.assign(D,{lch:nu,hcl:ou});k.format.lch=xr;k.format.hcl=Da;["lch","hcl"].forEach(e=>k.autodetect.push({p:2,test:(...t)=>{if(t=b(t,e),E(t)==="array"&&t.length===3)return e}}));d.prototype.saturate=function(e=1){let t=this,r=t.lch();return r[1]+=nt.Kn*e,r[1]<0&&(r[1]=0),new d(r,"lch").alpha(t.alpha(),!0)};d.prototype.desaturate=function(e=1){return this.saturate(-e)};d.prototype.set=function(e,t,r=!1){let[n,o]=e.split("."),i=this[n]();if(o){let s=n.indexOf(o)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(E(t)=="string")switch(t.charAt(0)){case"+":i[s]+=+t;break;case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else if(E(t)==="number")i[s]=t;else throw new Error("unsupported value for Color.set");let a=new d(i,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${o} in mode ${n}`)}else return i};d.prototype.tint=function(e=.5,...t){return ot(this,"white",e,...t)};d.prototype.shade=function(e=.5,...t){return ot(this,"black",e,...t)};var iu=(e,t,r)=>{let n=e._rgb,o=t._rgb;return new d(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};G.rgb=iu;var{sqrt:Pi,pow:Er}=Math,su=(e,t,r)=>{let[n,o,i]=e._rgb,[s,a,l]=t._rgb;return new d(Pi(Er(n,2)*(1-r)+Er(s,2)*r),Pi(Er(o,2)*(1-r)+Er(a,2)*r),Pi(Er(i,2)*(1-r)+Er(l,2)*r),"rgb")};G.lrgb=su;var au=(e,t,r)=>{let n=e.lab(),o=t.lab();return new d(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};G.lab=au;var Be=(e,t,r,n)=>{let o,i;n==="hsl"?(o=e.hsl(),i=t.hsl()):n==="hsv"?(o=e.hsv(),i=t.hsv()):n==="hcg"?(o=e.hcg(),i=t.hcg()):n==="hsi"?(o=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",o=e.hcl(),i=t.hcl()):n==="oklch"&&(o=e.oklch().reverse(),i=t.oklch().reverse());let s,a,l,c,f,p;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,f]=o,[a,c,p]=i);let u,m,h,A;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?A=a-(s+360):a<s&&s-a>180?A=a+360-s:A=a-s,m=s+r*A):isNaN(s)?isNaN(a)?m=Number.NaN:(m=a,(f==1||f==0)&&n!="hsv"&&(u=c)):(m=s,(p==1||p==0)&&n!="hsv"&&(u=l)),u===void 0&&(u=l+r*(c-l)),h=f+r*(p-f),n==="oklch"?new d([h,u,m],n):new d([m,u,h],n)};var Pa=(e,t,r)=>Be(e,t,r,"lch");G.lch=Pa;G.hcl=Pa;var lu=e=>{if(E(e)=="number"&&e>=0&&e<=16777215){let t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},Ia=lu;var cu=(...e)=>{let[t,r,n]=b(e,"rgb");return(t<<16)+(r<<8)+n},$a=cu;d.prototype.num=function(){return $a(this._rgb)};var fu=(...e)=>new d(...e,"num");Object.assign(D,{num:fu});k.format.num=Ia;k.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&E(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var uu=(e,t,r)=>{let n=e.num(),o=t.num();return new d(n+r*(o-n),"num")};G.num=uu;var{floor:pu}=Math,du=(...e)=>{e=b(e,"hcg");let[t,r,n]=e,o,i,s;n=n*255;let a=r*255;if(r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let l=pu(t),c=t-l,f=n*(1-r),p=f+a*(1-c),u=f+a*c,m=f+a;switch(l){case 0:[o,i,s]=[m,u,f];break;case 1:[o,i,s]=[p,m,f];break;case 2:[o,i,s]=[f,m,u];break;case 3:[o,i,s]=[f,p,m];break;case 4:[o,i,s]=[u,f,m];break;case 5:[o,i,s]=[m,f,p];break}}return[o,i,s,e.length>3?e[3]:1]},Ra=du;var mu=(...e)=>{let[t,r,n]=b(e,"rgb"),o=Qn(t,r,n),i=Xn(t,r,n),s=i-o,a=s*100/255,l=o/(255-s)*100,c;return s===0?c=Number.NaN:(t===i&&(c=(r-n)/s),r===i&&(c=2+(n-t)/s),n===i&&(c=4+(t-r)/s),c*=60,c<0&&(c+=360)),[c,a,l]},Sa=mu;d.prototype.hcg=function(){return Sa(this._rgb)};var hu=(...e)=>new d(...e,"hcg");D.hcg=hu;k.format.hcg=Ra;k.autodetect.push({p:1,test:(...e)=>{if(e=b(e,"hcg"),E(e)==="array"&&e.length===3)return"hcg"}});var _u=(e,t,r)=>Be(e,t,r,"hcg");G.hcg=_u;var{cos:Cr}=Math,gu=(...e)=>{e=b(e,"hsi");let[t,r,n]=e,o,i,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,o=(1+r*Cr(Le*t)/Cr(Kn-Le*t))/3,i=1-(s+o)):t<2/3?(t-=1/3,o=(1-r)/3,i=(1+r*Cr(Le*t)/Cr(Kn-Le*t))/3,s=1-(o+i)):(t-=2/3,i=(1-r)/3,s=(1+r*Cr(Le*t)/Cr(Kn-Le*t))/3,o=1-(i+s)),o=Se(n*o*3),i=Se(n*i*3),s=Se(n*s*3),[o*255,i*255,s*255,e.length>3?e[3]:1]},La=gu;var{min:vu,sqrt:bu,acos:Au}=Math,wu=(...e)=>{let[t,r,n]=b(e,"rgb");t/=255,r/=255,n/=255;let o,i=vu(t,r,n),s=(t+r+n)/3,a=s>0?1-i/s:0;return a===0?o=NaN:(o=(t-r+(t-n))/2,o/=bu((t-r)*(t-r)+(t-n)*(r-n)),o=Au(o),n>r&&(o=Le-o),o/=Le),[o*360,a,s]},Ma=wu;d.prototype.hsi=function(){return Ma(this._rgb)};var yu=(...e)=>new d(...e,"hsi");D.hsi=yu;k.format.hsi=La;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"hsi"),E(e)==="array"&&e.length===3)return"hsi"}});var xu=(e,t,r)=>Be(e,t,r,"hsi");G.hsi=xu;var Eu=(...e)=>{e=b(e,"hsl");let[t,r,n]=e,o,i,s;if(r===0)o=i=s=n*255;else{let a=[0,0,0],l=[0,0,0],c=n<.5?n*(1+r):n+r-n*r,f=2*n-c,p=t/360;a[0]=p+1/3,a[1]=p,a[2]=p-1/3;for(let u=0;u<3;u++)a[u]<0&&(a[u]+=1),a[u]>1&&(a[u]-=1),6*a[u]<1?l[u]=f+(c-f)*6*a[u]:2*a[u]<1?l[u]=c:3*a[u]<2?l[u]=f+(c-f)*(2/3-a[u])*6:l[u]=f;[o,i,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[o,i,s,e[3]]:[o,i,s,1]},hn=Eu;var Cu=(...e)=>{e=b(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;let o=Qn(t,r,n),i=Xn(t,r,n),s=(i+o)/2,a,l;return i===o?(a=0,l=Number.NaN):a=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),t==i?l=(r-n)/(i-o):r==i?l=2+(n-t)/(i-o):n==i&&(l=4+(t-r)/(i-o)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,a,s,e[3]]:[l,a,s]},io=Cu;d.prototype.hsl=function(){return io(this._rgb)};var ku=(...e)=>new d(...e,"hsl");D.hsl=ku;k.format.hsl=hn;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"hsl"),E(e)==="array"&&e.length===3)return"hsl"}});var Tu=(e,t,r)=>Be(e,t,r,"hsl");G.hsl=Tu;var{floor:Nu}=Math,Du=(...e)=>{e=b(e,"hsv");let[t,r,n]=e,o,i,s;if(n*=255,r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let a=Nu(t),l=t-a,c=n*(1-r),f=n*(1-r*l),p=n*(1-r*(1-l));switch(a){case 0:[o,i,s]=[n,p,c];break;case 1:[o,i,s]=[f,n,c];break;case 2:[o,i,s]=[c,n,p];break;case 3:[o,i,s]=[c,f,n];break;case 4:[o,i,s]=[p,c,n];break;case 5:[o,i,s]=[n,c,f];break}}return[o,i,s,e.length>3?e[3]:1]},Ba=Du;var{min:Pu,max:Iu}=Math,$u=(...e)=>{e=b(e,"rgb");let[t,r,n]=e,o=Pu(t,r,n),i=Iu(t,r,n),s=i-o,a,l,c;return c=i/255,i===0?(a=Number.NaN,l=0):(l=s/i,t===i&&(a=(r-n)/s),r===i&&(a=2+(n-t)/s),n===i&&(a=4+(t-r)/s),a*=60,a<0&&(a+=360)),[a,l,c]},Oa=$u;d.prototype.hsv=function(){return Oa(this._rgb)};var Ru=(...e)=>new d(...e,"hsv");D.hsv=Ru;k.format.hsv=Ba;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"hsv"),E(e)==="array"&&e.length===3)return"hsv"}});var Su=(e,t,r)=>Be(e,t,r,"hsv");G.hsv=Su;function zt(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,o=t[0].map((s,a)=>t.map(l=>l[a])),i=e.map(s=>o.map(a=>Array.isArray(s)?s.reduce((l,c,f)=>l+c*(a[f]||0),0):a.reduce((l,c)=>l+c*s,0)));return r===1&&(i=i[0]),n===1?i.map(s=>s[0]):i}var Lu=(...e)=>{e=b(e,"lab");let[t,r,n,...o]=e,[i,s,a]=Mu([t,r,n]),[l,c,f]=ki(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function Mu(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=zt(r,e);return zt(t,n.map(o=>o**3))}var kr=Lu;var Bu=(...e)=>{let[t,r,n,...o]=b(e,"rgb"),i=Ni(t,r,n);return[...Ou(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function Ou(e){let t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=zt(t,e);return zt(r,n.map(o=>Math.cbrt(o)))}var Tr=Bu;d.prototype.oklab=function(){return Tr(this._rgb)};var Fu=(...e)=>new d(...e,"oklab");Object.assign(D,{oklab:Fu});k.format.oklab=kr;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"oklab"),E(e)==="array"&&e.length===3)return"oklab"}});var Yu=(e,t,r)=>{let n=e.oklab(),o=t.oklab();return new d(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};G.oklab=Yu;var Wu=(e,t,r)=>Be(e,t,r,"oklch");G.oklch=Wu;var{pow:Ii,sqrt:$i,PI:Ri,cos:Fa,sin:Ya,atan2:Hu}=Math,Wa=(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));let o=n/r.reduce(function(p,u){return p+u});if(r.forEach((p,u)=>{r[u]*=o}),e=e.map(p=>new d(p)),t==="lrgb")return Gu(e,r);let i=e.shift(),s=i.get(t),a=[],l=0,c=0;for(let p=0;p<s.length;p++)if(s[p]=(s[p]||0)*r[0],a.push(isNaN(s[p])?0:r[0]),t.charAt(p)==="h"&&!isNaN(s[p])){let u=s[p]/180*Ri;l+=Fa(u)*r[0],c+=Ya(u)*r[0]}let f=i.alpha()*r[0];e.forEach((p,u)=>{let m=p.get(t);f+=p.alpha()*r[u+1];for(let h=0;h<s.length;h++)if(!isNaN(m[h]))if(a[h]+=r[u+1],t.charAt(h)==="h"){let A=m[h]/180*Ri;l+=Fa(A)*r[u+1],c+=Ya(A)*r[u+1]}else s[h]+=m[h]*r[u+1]});for(let p=0;p<s.length;p++)if(t.charAt(p)==="h"){let u=Hu(c/a[p],l/a[p])/Ri*180;for(;u<0;)u+=360;for(;u>=360;)u-=360;s[p]=u}else s[p]=s[p]/a[p];return f/=n,new d(s,t).alpha(f>.99999?1:f,!0)},Gu=(e,t)=>{let r=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],s=t[o]/r,a=i._rgb;n[0]+=Ii(a[0],2)*s,n[1]+=Ii(a[1],2)*s,n[2]+=Ii(a[2],2)*s,n[3]+=a[3]*s}return n[0]=$i(n[0]),n[1]=$i(n[1]),n[2]=$i(n[2]),n[3]>.9999999&&(n[3]=1),new d(jt(n))};var{pow:Vu}=Math;function Zt(e){let t="rgb",r=D("#ccc"),n=0,o=[0,1],i=[],s=[0,0],a=!1,l=[],c=!1,f=0,p=1,u=!1,m={},h=!0,A=1,g=function(_){if(_=_||["#fff","#000"],_&&E(_)==="string"&&D.brewer&&D.brewer[_.toLowerCase()]&&(_=D.brewer[_.toLowerCase()]),E(_)==="array"){_.length===1&&(_=[_[0],_[0]]),_=_.slice(0);for(let y=0;y<_.length;y++)_[y]=D(_[y]);i.length=0;for(let y=0;y<_.length;y++)i.push(y/(_.length-1))}return R(),l=_},v=function(_){if(a!=null){let y=a.length-1,C=0;for(;C<y&&_>=a[C];)C++;return C-1}return 0},$=_=>_,S=_=>_,T=function(_,y){let C,w;if(y==null&&(y=!1),isNaN(_)||_===null)return r;y?w=_:a&&a.length>2?w=v(_)/(a.length-2):p!==f?w=(_-f)/(p-f):w=1,w=S(w),y||(w=$(w)),A!==1&&(w=Vu(w,A)),w=s[0]+w*(1-s[0]-s[1]),w=Se(w,0,1);let P=Math.floor(w*1e4);if(h&&m[P])C=m[P];else{if(E(l)==="array")for(let L=0;L<i.length;L++){let H=i[L];if(w<=H){C=l[L];break}if(w>=H&&L===i.length-1){C=l[L];break}if(w>H&&w<i[L+1]){w=(w-H)/(i[L+1]-H),C=D.interpolate(l[L],l[L+1],w,t);break}}else E(l)==="function"&&(C=l(w));h&&(m[P]=C)}return C};var R=()=>m={};g(e);let N=function(_){let y=D(T(_));return c&&y[c]?y[c]():y};return N.classes=function(_){if(_!=null){if(E(_)==="array")a=_,o=[_[0],_[_.length-1]];else{let y=D.analyze(o);_===0?a=[y.min,y.max]:a=D.limits(y,"e",_)}return N}return a},N.domain=function(_){if(!arguments.length)return o;f=_[0],p=_[_.length-1],i=[];let y=l.length;if(_.length===y&&f!==p)for(let C of Array.from(_))i.push((C-f)/(p-f));else{for(let C=0;C<y;C++)i.push(C/(y-1));if(_.length>2){let C=_.map((P,L)=>L/(_.length-1)),w=_.map(P=>(P-f)/(p-f));w.every((P,L)=>C[L]===P)||(S=P=>{if(P<=0||P>=1)return P;let L=0;for(;P>=w[L+1];)L++;let H=(P-w[L])/(w[L+1]-w[L]);return C[L]+H*(C[L+1]-C[L])})}}return o=[f,p],N},N.mode=function(_){return arguments.length?(t=_,R(),N):t},N.range=function(_,y){return g(_,y),N},N.out=function(_){return c=_,N},N.spread=function(_){return arguments.length?(n=_,N):n},N.correctLightness=function(_){return _==null&&(_=!0),u=_,R(),u?$=function(y){let C=T(0,!0).lab()[0],w=T(1,!0).lab()[0],P=C>w,L=T(y,!0).lab()[0],H=C+(w-C)*y,ve=L-H,Fe=0,Pt=1,qt=20;for(;Math.abs(ve)>.01&&qt-- >0;)(function(){return P&&(ve*=-1),ve<0?(Fe=y,y+=(Pt-y)*.5):(Pt=y,y+=(Fe-y)*.5),L=T(y,!0).lab()[0],ve=L-H})();return y}:$=y=>y,N},N.padding=function(_){return _!=null?(E(_)==="number"&&(_=[_,_]),s=_,N):s},N.colors=function(_,y){arguments.length<2&&(y="hex");let C=[];if(arguments.length===0)C=l.slice(0);else if(_===1)C=[N(.5)];else if(_>1){let w=o[0],P=o[1]-w;C=ju(0,_,!1).map(L=>N(w+L/(_-1)*P))}else{e=[];let w=[];if(a&&a.length>2)for(let P=1,L=a.length,H=1<=L;H?P<L:P>L;H?P++:P--)w.push((a[P-1]+a[P])*.5);else w=o;C=w.map(P=>N(P))}return D[y]&&(C=C.map(w=>w[y]())),C},N.cache=function(_){return _!=null?(h=_,N):h},N.gamma=function(_){return _!=null?(A=_,N):A},N.nodata=function(_){return _!=null?(r=D(_),N):r},N}function ju(e,t,r){let n=[],o=e<t,i=r?o?t+1:t-1:t;for(let s=e;o?s<i:s>i;o?s++:s--)n.push(s);return n}var zu=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let o=1;o<=t.length;o++)n[o]=(t[o]||0)+t[o-1];t=n}return t},Zu=function(e){let t,r,n,o;if(e=e.map(i=>new d(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>r[a]+i*(n[a]-r[a]));return new d(s,"lab")};else if(e.length===3)[r,n,o]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>(1-i)*(1-i)*r[a]+2*(1-i)*i*n[a]+i*i*o[a]);return new d(s,"lab")};else if(e.length===4){let i;[r,n,o,i]=e.map(s=>s.lab()),t=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*o[l]+s*s*s*i[l]);return new d(a,"lab")}}else if(e.length>=5){let i,s,a;i=e.map(l=>l.lab()),a=e.length-1,s=zu(a),t=function(l){let c=1-l,f=[0,1,2].map(p=>i.reduce((u,m,h)=>u+s[h]*c**(a-h)*l**h*m[p],0));return new d(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Ha=e=>{let t=Zu(e);return t.scale=()=>Zt(t),t};var{round:Ga}=Math;d.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ga)};d.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:Ga(t):t)};var qu=(...e)=>new d(...e,"rgb");Object.assign(D,{rgb:qu});k.format.rgb=(...e)=>{let t=b(e,"rgba");return t[3]===void 0&&(t[3]=1),t};k.autodetect.push({p:3,test:(...e)=>{if(e=b(e,"rgba"),E(e)==="array"&&(e.length===3||e.length===4&&E(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ue=(e,t,r)=>{if(!Ue[r])throw new Error("unknown blend mode "+r);return Ue[r](e,t)},Nt=e=>(t,r)=>{let n=D(r).rgb(),o=D(t).rgb();return D.rgb(e(n,o))},Dt=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},Uu=e=>e,Qu=(e,t)=>e*t/255,Xu=(e,t)=>e>t?t:e,Ku=(e,t)=>e>t?e:t,Ju=(e,t)=>255*(1-(1-e/255)*(1-t/255)),ep=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),tp=(e,t)=>255*(1-(1-t/255)/(e/255)),rp=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Ue.normal=Nt(Dt(Uu));Ue.multiply=Nt(Dt(Qu));Ue.screen=Nt(Dt(Ju));Ue.overlay=Nt(Dt(ep));Ue.darken=Nt(Dt(Xu));Ue.lighten=Nt(Dt(Ku));Ue.dodge=Nt(Dt(rp));Ue.burn=Nt(Dt(tp));var Va=Ue;var{pow:np,sin:op,cos:ip}=Math;function ja(e=300,t=-1.5,r=1,n=1,o=[0,1]){let i=0,s;E(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);let a=function(l){let c=Le*((e+120)/360+t*l),f=np(o[0]+s*l,n),u=(i!==0?r[0]+l*i:r)*f*(1-f)/2,m=ip(c),h=op(c),A=f+u*(-.14861*m+1.78277*h),g=f+u*(-.29227*m-.90649*h),v=f+u*(1.97294*m);return D(jt([A*255,g*255,v*255,1]))};return a.start=function(l){return l==null?e:(e=l,a)},a.rotations=function(l){return l==null?t:(t=l,a)},a.gamma=function(l){return l==null?n:(n=l,a)},a.hue=function(l){return l==null?r:(r=l,E(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,a)},a.lightness=function(l){return l==null?o:(E(l)==="array"?(o=l,s=l[1]-l[0]):(o=[l,l],s=0),a)},a.scale=()=>D.scale(a),a.hue(r),a}var sp="0123456789abcdef",{floor:ap,random:lp}=Math,za=()=>{let e="#";for(let t=0;t<6;t++)e+=sp.charAt(ap(lp()*16));return new d(e,"hex")};var{log:Za,pow:cp,floor:fp,abs:up}=Math;function Si(e,t=null){let r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return E(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&E(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,o)=>Li(r,n,o),r}function Li(e,t="equal",r=7){E(e)=="array"&&(e=Si(e));let{min:n,max:o}=e,i=e.values.sort((a,l)=>a-l);if(r===1)return[n,o];let s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(o)),t.substr(0,1)==="e"){s.push(n);for(let a=1;a<r;a++)s.push(n+a/r*(o-n));s.push(o)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*Za(n),l=Math.LOG10E*Za(o);s.push(n);for(let c=1;c<r;c++)s.push(cp(10,a+c/r*(l-a)));s.push(o)}else if(t.substr(0,1)==="q"){s.push(n);for(let a=1;a<r;a++){let l=(i.length-1)*a/r,c=fp(l);if(c===l)s.push(i[c]);else{let f=l-c;s.push(i[c]*(1-f)+i[c+1]*f)}}s.push(o)}else if(t.substr(0,1)==="k"){let a,l=i.length,c=new Array(l),f=new Array(r),p=!0,u=0,m=null;m=[],m.push(n);for(let g=1;g<r;g++)m.push(n+g/r*(o-n));for(m.push(o);p;){for(let v=0;v<r;v++)f[v]=0;for(let v=0;v<l;v++){let $=i[v],S=Number.MAX_VALUE,T;for(let R=0;R<r;R++){let N=up(m[R]-$);N<S&&(S=N,T=R),f[T]++,c[v]=T}}let g=new Array(r);for(let v=0;v<r;v++)g[v]=null;for(let v=0;v<l;v++)a=c[v],g[a]===null?g[a]=i[v]:g[a]+=i[v];for(let v=0;v<r;v++)g[v]*=1/f[v];p=!1;for(let v=0;v<r;v++)if(g[v]!==m[v]){p=!0;break}m=g,u++,u>200&&(p=!1)}let h={};for(let g=0;g<r;g++)h[g]=[];for(let g=0;g<l;g++)a=c[g],h[a].push(i[g]);let A=[];for(let g=0;g<r;g++)A.push(h[g][0]),A.push(h[g][h[g].length-1]);A=A.sort((g,v)=>g-v),s.push(A[0]);for(let g=1;g<A.length;g+=2){let v=A[g];!isNaN(v)&&s.indexOf(v)===-1&&s.push(v)}}return s}var qa=(e,t)=>{e=new d(e),t=new d(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};var Ua=.027,pp=5e-4,dp=.1,Qa=1.14,so=.022,Xa=1.414,Ja=(e,t)=>{e=new d(e),t=new d(t),e.alpha()<1&&(e=ot(t,e,e.alpha(),"rgb"));let r=Ka(...e.rgb()),n=Ka(...t.rgb()),o=r>=so?r:r+Math.pow(so-r,Xa),i=n>=so?n:n+Math.pow(so-n,Xa),s=Math.pow(i,.56)-Math.pow(o,.57),a=Math.pow(i,.65)-Math.pow(o,.62),l=Math.abs(i-o)<pp?0:o<i?s*Qa:a*Qa;return(Math.abs(l)<dp?0:l>0?l-Ua:l+Ua)*100};function Ka(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}var{sqrt:dt,pow:Q,min:mp,max:hp,atan2:el,abs:tl,cos:ao,sin:rl,exp:_p,PI:nl}=Math;function ol(e,t,r=1,n=1,o=1){var i=function(Xe){return 360*Xe/(2*nl)},s=function(Xe){return 2*nl*Xe/360};e=new d(e),t=new d(t);let[a,l,c]=Array.from(e.lab()),[f,p,u]=Array.from(t.lab()),m=(a+f)/2,h=dt(Q(l,2)+Q(c,2)),A=dt(Q(p,2)+Q(u,2)),g=(h+A)/2,v=.5*(1-dt(Q(g,7)/(Q(g,7)+Q(25,7)))),$=l*(1+v),S=p*(1+v),T=dt(Q($,2)+Q(c,2)),R=dt(Q(S,2)+Q(u,2)),N=(T+R)/2,_=i(el(c,$)),y=i(el(u,S)),C=_>=0?_:_+360,w=y>=0?y:y+360,P=tl(C-w)>180?(C+w+360)/2:(C+w)/2,L=1-.17*ao(s(P-30))+.24*ao(s(2*P))+.32*ao(s(3*P+6))-.2*ao(s(4*P-63)),H=w-C;H=tl(H)<=180?H:w<=C?H+360:H-360,H=2*dt(T*R)*rl(s(H)/2);let ve=f-a,Fe=R-T,Pt=1+.015*Q(m-50,2)/dt(20+Q(m-50,2)),qt=1+.045*N,Ir=1+.015*N*L,gn=30*_p(-Q((P-275)/25,2)),ht=-(2*dt(Q(N,7)/(Q(N,7)+Q(25,7))))*rl(2*s(gn)),bn=dt(Q(ve/(r*Pt),2)+Q(Fe/(n*qt),2)+Q(H/(o*Ir),2)+ht*(Fe/(n*qt))*(H/(o*Ir)));return hp(0,mp(100,bn))}function il(e,t,r="lab"){e=new d(e),t=new d(t);let n=e.get(r),o=t.get(r),i=0;for(let s in n){let a=(n[s]||0)-(o[s]||0);i+=a*a}return Math.sqrt(i)}var sl=(...e)=>{try{return new d(...e),!0}catch{return!1}};var al={cool(){return Zt([D.hsl(180,1,.9),D.hsl(250,.7,.4)])},hot(){return Zt(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var Mi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},cl=Object.keys(Mi),ll=new Map(cl.map(e=>[e.toLowerCase(),e])),gp=typeof Proxy=="function"?new Proxy(Mi,{get(e,t){let r=t.toLowerCase();if(ll.has(r))return e[ll.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(cl)}}):Mi,fl=gp;var vp=(...e)=>{e=b(e,"cmyk");let[t,r,n,o]=e,i=e.length>4?e[4]:1;return o===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),i]},ul=vp;var{max:pl}=Math,bp=(...e)=>{let[t,r,n]=b(e,"rgb");t=t/255,r=r/255,n=n/255;let o=1-pl(t,pl(r,n)),i=o<1?1/(1-o):0,s=(1-t-o)*i,a=(1-r-o)*i,l=(1-n-o)*i;return[s,a,l,o]},dl=bp;d.prototype.cmyk=function(){return dl(this._rgb)};var Ap=(...e)=>new d(...e,"cmyk");Object.assign(D,{cmyk:Ap});k.format.cmyk=ul;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"cmyk"),E(e)==="array"&&e.length===4)return"cmyk"}});var wp=(...e)=>{let t=b(e,"hsla"),r=Ee(e)||"lsa";return t[0]=ne(t[0]||0)+"deg",t[1]=ne(t[1]*100)+"%",t[2]=ne(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},ml=wp;var yp=(...e)=>{let t=b(e,"lab"),r=Ee(e)||"lab";return t[0]=ne(t[0])+"%",t[1]=ne(t[1]),t[2]=ne(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},hl=yp;var xp=(...e)=>{let t=b(e,"lch"),r=Ee(e)||"lab";return t[0]=ne(t[0])+"%",t[1]=ne(t[1]),t[2]=isNaN(t[2])?"none":ne(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},_l=xp;var Ep=(...e)=>{let t=b(e,"lab");return t[0]=ne(t[0]*100)+"%",t[1]=pn(t[1]),t[2]=pn(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},gl=Ep;var Cp=(...e)=>{let[t,r,n,...o]=b(e,"rgb"),[i,s,a]=Tr(t,r,n),[l,c,f]=oo(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},lo=Cp;var kp=(...e)=>{let t=b(e,"lch");return t[0]=ne(t[0]*100)+"%",t[1]=pn(t[1]),t[2]=isNaN(t[2])?"none":ne(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},vl=kp;var{round:Bi}=Math,Tp=(...e)=>{let t=b(e,"rgba"),r=Ee(e)||"rgb";if(r.substr(0,3)==="hsl")return ml(io(t),r);if(r.substr(0,3)==="lab"){let n=Tt();Me("d50");let o=hl(yr(t),r);return Me(n),o}if(r.substr(0,3)==="lch"){let n=Tt();Me("d50");let o=_l(mn(t),r);return Me(n),o}return r.substr(0,5)==="oklab"?gl(Tr(t)):r.substr(0,5)==="oklch"?vl(lo(t)):(t[0]=Bi(t[0]),t[1]=Bi(t[1]),t[2]=Bi(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},bl=Tp;var Np=(...e)=>{e=b(e,"lch");let[t,r,n,...o]=e,[i,s,a]=no(t,r,n),[l,c,f]=kr(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},co=Np;var mt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Qe=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,fo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Oe=/\s*/.source,Dr=/\s+/.source,Oi=/\s*,\s*/.source,uo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Pr=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Al=new RegExp("^rgba?\\("+Oe+[mt,mt,mt].join(Dr)+Pr+"\\)$"),wl=new RegExp("^rgb\\("+Oe+[mt,mt,mt].join(Oi)+Oe+"\\)$"),yl=new RegExp("^rgba\\("+Oe+[mt,mt,mt,Qe].join(Oi)+Oe+"\\)$"),xl=new RegExp("^hsla?\\("+Oe+[uo,fo,fo].join(Dr)+Pr+"\\)$"),El=new RegExp("^hsl?\\("+Oe+[uo,fo,fo].join(Oi)+Oe+"\\)$"),Cl=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,kl=new RegExp("^lab\\("+Oe+[Qe,Qe,Qe].join(Dr)+Pr+"\\)$"),Tl=new RegExp("^lch\\("+Oe+[Qe,Qe,uo].join(Dr)+Pr+"\\)$"),Nl=new RegExp("^oklab\\("+Oe+[Qe,Qe,Qe].join(Dr)+Pr+"\\)$"),Dl=new RegExp("^oklch\\("+Oe+[Qe,Qe,uo].join(Dr)+Pr+"\\)$"),{round:Pl}=Math,Nr=e=>e.map((t,r)=>r<=2?Se(Pl(t),0,255):t),X=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),de=(e,t)=>e==="none"?t:e,Il=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(k.format.named)try{return k.format.named(e)}catch{}if((t=e.match(Al))||(t=e.match(wl))){let r=t.slice(1,4);for(let o=0;o<3;o++)r[o]=+X(de(r[o],0),0,255);r=Nr(r);let n=t[4]!==void 0?+X(t[4],0,1):1;return r[3]=n,r}if(t=e.match(yl)){let r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+X(r[n],0,255);return r}if((t=e.match(xl))||(t=e.match(El))){let r=t.slice(1,4);r[0]=+de(r[0].replace("deg",""),0),r[1]=+X(de(r[1],0),0,100)*.01,r[2]=+X(de(r[2],0),0,100)*.01;let n=Nr(hn(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Cl)){let r=t.slice(1,4);r[1]*=.01,r[2]*=.01;let n=hn(r);for(let o=0;o<3;o++)n[o]=Pl(n[o]);return n[3]=+t[4],n}if(t=e.match(kl)){let r=t.slice(1,4);r[0]=X(de(r[0],0),0,100),r[1]=X(de(r[1],0),-125,125,!0),r[2]=X(de(r[2],0),-125,125,!0);let n=Tt();Me("d50");let o=Nr(wr(r));Me(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Tl)){let r=t.slice(1,4);r[0]=X(r[0],0,100),r[1]=X(de(r[1],0),0,150,!1),r[2]=+de(r[2].replace("deg",""),0);let n=Tt();Me("d50");let o=Nr(xr(r));Me(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Nl)){let r=t.slice(1,4);r[0]=X(de(r[0],0),0,1),r[1]=X(de(r[1],0),-.4,.4,!0),r[2]=X(de(r[2],0),-.4,.4,!0);let n=Nr(kr(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Dl)){let r=t.slice(1,4);r[0]=X(de(r[0],0),0,1),r[1]=X(de(r[1],0),0,.4,!1),r[2]=+de(r[2].replace("deg",""),0);let n=Nr(co(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}};Il.test=e=>Al.test(e)||xl.test(e)||kl.test(e)||Tl.test(e)||Nl.test(e)||Dl.test(e)||wl.test(e)||yl.test(e)||El.test(e)||Cl.test(e)||e==="transparent";var Fi=Il;d.prototype.css=function(e){return bl(this._rgb,e)};var Dp=(...e)=>new d(...e,"css");D.css=Dp;k.format.css=Fi;k.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&Fi.test(e))return"css"}});k.format.gl=(...e)=>{let t=b(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};var Pp=(...e)=>new d(...e,"gl");D.gl=Pp;d.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};d.prototype.hex=function(e){return ro(this._rgb,e)};var Ip=(...e)=>new d(...e,"hex");D.hex=Ip;k.format.hex=eo;k.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var{log:po}=Math,$p=e=>{let t=e/100,r,n,o;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*po(n),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*po(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*po(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*po(n),o=255),[r,n,o,1]},mo=$p;var{round:Rp}=Math,Sp=(...e)=>{let t=b(e,"rgb"),r=t[0],n=t[2],o=1e3,i=4e4,s=.4,a;for(;i-o>s;){a=(i+o)*.5;let l=mo(a);l[2]/l[0]>=n/r?i=a:o=a}return Rp(a)},$l=Sp;d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return $l(this._rgb)};var Yi=(...e)=>new d(...e,"temp");Object.assign(D,{temp:Yi,kelvin:Yi,temperature:Yi});k.format.temp=k.format.kelvin=k.format.temperature=mo;d.prototype.oklch=function(){return lo(this._rgb)};var Lp=(...e)=>new d(...e,"oklch");Object.assign(D,{oklch:Lp});k.format.oklch=co;k.autodetect.push({p:2,test:(...e)=>{if(e=b(e,"oklch"),E(e)==="array"&&e.length===3)return"oklch"}});Object.assign(D,{analyze:Si,average:Wa,bezier:Ha,blend:Va,brewer:fl,Color:d,colors:kt,contrast:qa,contrastAPCA:Ja,cubehelix:ja,deltaE:ol,distance:il,input:k,interpolate:ot,limits:Li,mix:ot,random:za,scale:Zt,scales:al,valid:sl});var Wi=D;var Rl=require("obsidian");var _n=class extends Rl.ItemView{constructor(t,r,n){super(t),this.settings=r}getViewType(){return Qt}getDisplayText(){return"Day Planner Timeline"}getIcon(){return this.settings.timelineIcon}update(t){if(!this.colors||t.items.length!=this.colors.length){let r=this.settings.timelineColorBegin||z.timelineColorBegin,n=this.settings.timelineColorEnd||z.timelineColorEnd,o=this.settings.timelineHoverColorBegin||z.timelineHoverColorBegin,i=this.settings.timelineHoverColorEnd||z.timelineHoverColorEnd;this.colors=Wi.scale([r,n]).mode("lch").colors(t.items.length,"hex"),this.hoverColors=Wi.scale([o,i]).mode("lch").colors(t.items.length,"hex"),Zn.set(this.colors),qn.set(this.hoverColors)}jn.set(t),zn.set(new Date)}async onOpen(){this.component=vr(xi,{target:this.contentEl,props:{lineColor:this.settings.lineColor||z.lineColor,zoomLevel:this.settings.timelineZoomLevel||4,rootEl:this.contentEl}})}async onClose(){ln(this.component)}};var Sl=qi(To()),ho=class extends _o.Plugin{constructor(){super(...arguments);this.codeMirror=r=>{this.file.hasTodayNote()&&this.plannerMD.checkIsDayPlannerEditing()}}get syncPlugin(){return this.app.internalPlugins.getPluginById("sync")}async onload(){console.log("Loading Day Planner plugin v"+this.manifest.version),this.vault=this.app.vault,this.settings=Object.assign(new yn,await this.loadData()),this.notesForDatesQuery=new _t,this.file=new Hr(this.vault,this.settings);let r=this.syncPlugin?.instance!=null;this.device=r?this.syncPlugin.instance.deviceName.length>0?this.syncPlugin.instance.deviceName:this.syncPlugin.instance.getDefaultDeviceName():"Unknown",console.debug("DPOG: Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter());let n=new Sr;this.parser=new Gr(this.settings),this.plannerMD=new Kt(this.app.workspace,this.settings,this.file,this.parser,n),this.statusBar=new Rr(this.settings,this.addStatusBarItem(),this.app.workspace,n,new Kt(this.app.workspace,this.settings,this.file,this.parser,n),this.file),this.statusBar.initStatusBar(),this.registerEvent(this.app.vault.on("modify",this.codeMirror,"")),this.addCommand({id:"app:add-to-note",name:"Add a Day Planner template for today to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!0)),hotkeys:[]}),this.addCommand({id:"app:link-to-note",name:"Link today's Day Planner to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!1)),hotkeys:[]}),this.addCommand({id:"app:unlink-from-note",name:"Unlink today's Day Planner from its note",callback:()=>this.modeGuard(async()=>await this.unlinkDayPlanner()),hotkeys:[]}),this.addCommand({id:"app:show-timeline",name:"Show the Day Planner Timeline",callback:()=>this.initLeaf(),hotkeys:[]}),this.addCommand({id:"app:show-today-note",name:"Show today's Day Planner",callback:()=>this.app.workspace.openLinkText(this.file.todayPlannerFilePath(),"",!0),hotkeys:[]}),this.addCommand({id:"app:set-as-writer",name:`Set current device '${this.device}' as writer`,callback:async()=>{this.settings.writer=this.device,this.save()},hotkeys:[]}),this.registerView(Qt,o=>this.timelineView=new _n(o,this.settings,new Ke([],this.isWriter()))),this.addSettingTab(new En(this.app,this)),this.setTicker(),window.dayPlanner={resolvePath:this.resolvePath.bind(this)},this.register(()=>delete window.dayPlanner)}async onunload(){this.interval&&(console.debug("DPOG: Clearing ticker"),window.clearInterval(this.interval))}async handleConfigFileChange(){await super.handleConfigFileChange(),this.settings=Object.assign(this.settings,await this.loadData()),this.parser.updateSettings(this.settings);let r=await this.file.hasTodayNote();console.log("DPOG: update Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter(),r)}isWriter(){return this.device==="Unknown"||!this.settings.writer||this.settings.writer===this.device}setTicker(){this.interval&&(console.debug("DPOG: Clearing ticker"),window.clearInterval(this.interval),this.interval=void 0),console.log("DPOG: set Ticker with Device/Writer:",this.device,this.settings.writer,this.isWriter()),this.interval=window.setInterval(()=>this.tick(),2e3)}async tick(){try{if(await this.file.hasTodayNote()){let r=await this.plannerMD.processDayPlanner(this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView&&this.timelineView.update(r)}else if(this.settings.mode==2&&(0,Sl.appHasDailyNotesPluginLoaded)()){let r=new Ke([],this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView&&this.timelineView.update(r)}}catch(r){console.log(r)}}initLeaf(){this.app.workspace.getLeavesOfType(Qt).length>0||this.app.workspace.getRightLeaf(!0).setViewState({type:Qt})}modeGuard(r){if(this.settings.mode!==1){new Notification("Day Planner plugin in File mode",{silent:!0,body:"Switch to Command mode in settings to use this command"});return}else r()}async insertDayPlannerIntoCurrentNote(r){try{let o=this.app.workspace.getActiveViewOfType(_o.MarkdownView).file.path,i=this.notesForDatesQuery.exists(this.settings.notesToDates),s=this.notesForDatesQuery.active(this.settings.notesToDates)?.notePath;if(this.settings.notesToDates=this.settings.notesToDates||[],i&&s!==o){new Notification("Day Planner exists",{silent:!0,body:`A Day Planner for today already exists in ${s}`});return}else i?this.settings.notesToDates||(this.settings.notesToDates=[]):this.settings.notesToDates=[new Ut(o,new Date().toDateString())];await this.save(),r&&this.plannerMD.insertPlanner()}catch(n){console.error(n)}}async unlinkDayPlanner(){try{let r=this.notesForDatesQuery.active(this.settings.notesToDates);if(!r){new Notification("No Day Planner found",{silent:!0,body:"No Day Planner found for today"});return}this.settings.notesToDates=this.settings.notesToDates||[],this.settings.notesToDates.remove(r),await this.save(),this.statusBar.hide(this.statusBar.statusBar),this.timelineView&&this.timelineView.update(new Ke([],this.isWriter())),new Notification("Day Planner reset",{silent:!0,body:`The Day Planner for today has been dissociated from ${r.notePath} and can be added to another note`})}catch(r){console.error(r)}}async save(){await this.saveData(this.settings)}resolvePath(r){let n=this.file.todayPlannerFilePath();return this.app.metadataCache.getFirstLinkpathDest(r,n).path}};
/*! Bundled license information:

chroma-js/src/utils/contrastAPCA.js:
  (**
   * @license
   *
   * The APCA contrast prediction algorithm is based of the formulas published
   * in the APCA-1.0.98G specification by Myndex. The specification is available at:
   * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
   *
   * Note that the APCA implementation is still beta, so please update to
   * future versions of chroma.js when they become available.
   *
   * You can read more about the APCA Readability Criterion at
   * https://readtech.org/ARC/
   *)
*/

/* nosourcemap */